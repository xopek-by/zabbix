<?xml version="1.0" encoding="UTF-8"?>
<zabbix_export><version>7.4</version><template_groups><template_group><uuid>846977d1dfed4968bc5f8bdb363285bc</uuid><name>Templates/Operating systems</name></template_group></template_groups><templates><template><uuid>f8f7908280354f2abeed07dc788c3747</uuid><template>Linux by Zabbix agent mbuz</template><name>Linux by Zabbix agent mbuz</name><description>Official Linux template. Requires agent of Zabbix 7.0 or newer.
      
You can discuss this template or leave feedback on our forum https://www.zabbix.com/forum/zabbix-suggestions-and-feedback/387225-discussion-thread-for-official-zabbix-template-for-linux

Generated by official Zabbix template tool &quot;Templator&quot; 2.0.0</description><vendor><name>Zabbix</name><version>7.0-0</version></vendor><groups><group><name>Templates/Operating systems</name></group></groups><items><item><uuid>df561a0cece94760a78704edf7da7326</uuid><name>Linux: Host name of Zabbix agent running</name><key>agent.hostname</key><delay>1h</delay><history>7d</history><value_type>CHAR</value_type><preprocessing><step><type>DISCARD_UNCHANGED_HEARTBEAT</type><parameters><parameter>1d</parameter></parameters></step></preprocessing><tags><tag><tag>component</tag><value>system</value></tag></tags></item><item><uuid>f94f9f4699e94c369e6c98b2a2f485ce</uuid><name>Linux: Zabbix agent ping</name><key>agent.ping</key><history>7d</history><description>The agent always returns 1 for this item. It could be used in combination with nodata() for availability check.</description><valuemap><name>Zabbix agent ping status</name></valuemap><tags><tag><tag>component</tag><value>system</value></tag></tags></item><item><uuid>27c42cf180b44632b5d9b8b5788165b3</uuid><name>Linux: Version of Zabbix agent running</name><key>agent.version</key><delay>1h</delay><history>7d</history><value_type>CHAR</value_type><preprocessing><step><type>DISCARD_UNCHANGED_HEARTBEAT</type><parameters><parameter>1d</parameter></parameters></step></preprocessing><tags><tag><tag>component</tag><value>application</value></tag></tags></item><item><uuid>ef386d03ff2c42ffa236acd5215ad547</uuid><name>Linux: Maximum number of open file descriptors</name><key>kernel.maxfiles</key><delay>1h</delay><history>7d</history><description>It could be increased by using `sysctl` utility or modifying the file `/etc/sysctl.conf`.</description><preprocessing><step><type>DISCARD_UNCHANGED_HEARTBEAT</type><parameters><parameter>1d</parameter></parameters></step></preprocessing><tags><tag><tag>component</tag><value>system</value></tag></tags><triggers><trigger><uuid>b9bdcf42f54a409a9a9a616dbd0eaed2</uuid><expression>last(/Linux by Zabbix agent mbuz/kernel.maxfiles)&lt;{$KERNEL.MAXFILES.MIN}</expression><name>Linux: Configured max number of open filedescriptors is too low</name><event_name>Linux: Configured max number of open filedescriptors is too low (&lt; {$KERNEL.MAXFILES.MIN})</event_name><priority>INFO</priority><tags><tag><tag>scope</tag><value>performance</value></tag></tags></trigger></triggers></item><item><uuid>678d70c041954ac8982fb5118b49f6e7</uuid><name>Linux: Maximum number of processes</name><key>kernel.maxproc</key><delay>1h</delay><history>7d</history><description>It could be increased by using `sysctl` utility or modifying the file `/etc/sysctl.conf`.</description><preprocessing><step><type>DISCARD_UNCHANGED_HEARTBEAT</type><parameters><parameter>1d</parameter></parameters></step></preprocessing><tags><tag><tag>component</tag><value>system</value></tag></tags><triggers><trigger><uuid>8cf253ca3eea4109a90443f9cb76fc5c</uuid><expression>last(/Linux by Zabbix agent mbuz/kernel.maxproc)&lt;{$KERNEL.MAXPROC.MIN}</expression><name>Linux: Configured max number of processes is too low</name><event_name>Linux: Configured max number of processes is too low (&lt; {$KERNEL.MAXPROC.MIN})</event_name><priority>INFO</priority><dependencies><dependency><name>Linux: Getting closer to process limit</name><expression>last(/Linux by Zabbix agent mbuz/proc.num)/last(/Linux by Zabbix agent mbuz/kernel.maxproc)*100&gt;80</expression></dependency></dependencies><tags><tag><tag>scope</tag><value>performance</value></tag></tags></trigger></triggers></item><item><uuid>ab7d0471092544a6a950184d1bac906d</uuid><name>Linux: Number of processes</name><key>proc.num</key><history>7d</history><tags><tag><tag>component</tag><value>system</value></tag></tags></item><item><uuid>b2637293884d40108f41b11767dd5be0</uuid><name>Linux: Number of running processes</name><key>proc.num[,,run]</key><history>7d</history><tags><tag><tag>component</tag><value>system</value></tag></tags></item><item><uuid>27cb0f66bb624146acfdd81b58f108a3</uuid><name>Linux: System boot time</name><key>system.boottime</key><delay>15m</delay><history>7d</history><units>unixtime</units><preprocessing><step><type>DISCARD_UNCHANGED_HEARTBEAT</type><parameters><parameter>1h</parameter></parameters></step></preprocessing><tags><tag><tag>component</tag><value>system</value></tag></tags></item><item><uuid>5d186a46867b4eaaafd6396d3239dd3b</uuid><name>Linux: Interrupts per second</name><key>system.cpu.intr</key><history>7d</history><value_type>FLOAT</value_type><preprocessing><step><type>CHANGE_PER_SECOND</type></step></preprocessing><tags><tag><tag>component</tag><value>cpu</value></tag></tags></item><item><uuid>48528aa936a04c8189375a6eae4033da</uuid><name>Linux: Load average (1m avg)</name><key>system.cpu.load[all,avg1]</key><history>7d</history><value_type>FLOAT</value_type><tags><tag><tag>component</tag><value>cpu</value></tag></tags></item><item><uuid>953beb580df8418cb88b667b9dd37259</uuid><name>Linux: Load average (5m avg)</name><key>system.cpu.load[all,avg5]</key><history>7d</history><value_type>FLOAT</value_type><tags><tag><tag>component</tag><value>cpu</value></tag></tags></item><item><uuid>5716000e38e24dae8ead4ed98ede024b</uuid><name>Linux: Load average (15m avg)</name><key>system.cpu.load[all,avg15]</key><history>7d</history><value_type>FLOAT</value_type><tags><tag><tag>component</tag><value>cpu</value></tag></tags></item><item><uuid>f72e115544eb4079b09fec8c3539241c</uuid><name>Linux: Number of CPUs</name><key>system.cpu.num</key><history>7d</history><preprocessing><step><type>DISCARD_UNCHANGED_HEARTBEAT</type><parameters><parameter>1d</parameter></parameters></step></preprocessing><tags><tag><tag>component</tag><value>cpu</value></tag></tags></item><item><uuid>73e85aa10a704fc7950d2d077f0c54ee</uuid><name>Linux: Context switches per second</name><key>system.cpu.switches</key><history>7d</history><value_type>FLOAT</value_type><preprocessing><step><type>CHANGE_PER_SECOND</type></step></preprocessing><tags><tag><tag>component</tag><value>cpu</value></tag></tags></item><item><uuid>ca4235ec7607469cb0124a6253d3c489</uuid><name>Linux: CPU utilization</name><type>DEPENDENT</type><key>system.cpu.util</key><history>7d</history><value_type>FLOAT</value_type><units>%</units><description>The CPU utilization expressed in %.</description><preprocessing><step><type>JAVASCRIPT</type><parameters><parameter>//Calculate utilization
return (100 - value)</parameter></parameters></step></preprocessing><master_item><key>system.cpu.util[,idle]</key></master_item><tags><tag><tag>component</tag><value>cpu</value></tag></tags><triggers><trigger><uuid>b4e904559b694df0ad45bcce7930c3a6</uuid><expression>min(/Linux by Zabbix agent mbuz/system.cpu.util,5m)&gt;{$CPU.UTIL.CRIT}</expression><name>Linux: High CPU utilization</name><event_name>Linux: High CPU utilization (over {$CPU.UTIL.CRIT}% for 5m)</event_name><opdata>Current utilization: {ITEM.LASTVALUE1}</opdata><priority>WARNING</priority><description>The CPU utilization is too high. The system might be slow to respond.</description><dependencies><dependency><name>Linux: Load average is too high</name><expression>min(/Linux by Zabbix agent mbuz/system.cpu.load[all,avg1],5m)/last(/Linux by Zabbix agent mbuz/system.cpu.num)&gt;{$LOAD_AVG_PER_CPU.MAX.WARN}
and last(/Linux by Zabbix agent mbuz/system.cpu.load[all,avg5])&gt;0
and last(/Linux by Zabbix agent mbuz/system.cpu.load[all,avg15])&gt;0</expression></dependency></dependencies><tags><tag><tag>scope</tag><value>performance</value></tag></tags></trigger></triggers></item><item><uuid>69b187838fb74f319e47c2ff4f99ef54</uuid><name>Linux: CPU guest time</name><key>system.cpu.util[,guest]</key><history>7d</history><value_type>FLOAT</value_type><units>%</units><description>Guest time - the time spent on running a virtual CPU for a guest operating system.</description><tags><tag><tag>component</tag><value>cpu</value></tag></tags></item><item><uuid>a2b07497f2f343a99d26ad77e65bb54f</uuid><name>Linux: CPU guest nice time</name><key>system.cpu.util[,guest_nice]</key><history>7d</history><value_type>FLOAT</value_type><units>%</units><description>The time spent on running a niced guest (a virtual CPU for guest operating systems under the control of the Linux kernel).</description><tags><tag><tag>component</tag><value>cpu</value></tag></tags></item><item><uuid>7aad6d159baa4a24901847144f0d231b</uuid><name>Linux: CPU idle time</name><key>system.cpu.util[,idle]</key><history>7d</history><value_type>FLOAT</value_type><units>%</units><description>The time the CPU has spent doing nothing.</description><tags><tag><tag>component</tag><value>cpu</value></tag></tags></item><item><uuid>cc4bc7693ae84f9bb18cee38d0814195</uuid><name>Linux: CPU interrupt time</name><key>system.cpu.util[,interrupt]</key><history>7d</history><value_type>FLOAT</value_type><units>%</units><description>The amount of time the CPU has been servicing hardware interrupts.</description><tags><tag><tag>component</tag><value>cpu</value></tag></tags></item><item><uuid>5df67d9162cc437585990cc8708be894</uuid><name>Linux: CPU iowait time</name><key>system.cpu.util[,iowait]</key><history>7d</history><value_type>FLOAT</value_type><units>%</units><description>The amount of time the CPU has been waiting for I/O to complete.</description><tags><tag><tag>component</tag><value>cpu</value></tag></tags></item><item><uuid>8ee6e54c86ba44ab88bb9e83c632c1ed</uuid><name>Linux: CPU nice time</name><key>system.cpu.util[,nice]</key><history>7d</history><value_type>FLOAT</value_type><units>%</units><description>The time the CPU has spent running users' processes that have been niced.</description><tags><tag><tag>component</tag><value>cpu</value></tag></tags></item><item><uuid>a949a36004a449c58bef0cdc9d3fafd6</uuid><name>Linux: CPU softirq time</name><key>system.cpu.util[,softirq]</key><history>7d</history><value_type>FLOAT</value_type><units>%</units><description>The amount of time the CPU has been servicing software interrupts.</description><tags><tag><tag>component</tag><value>cpu</value></tag></tags></item><item><uuid>3161dbd18e874e69b729c8e903cf7390</uuid><name>Linux: CPU steal time</name><key>system.cpu.util[,steal]</key><history>7d</history><value_type>FLOAT</value_type><units>%</units><description>The amount of &quot;stolen&quot; CPU from this virtual machine by the hypervisor for other tasks, such as running another virtual machine.</description><tags><tag><tag>component</tag><value>cpu</value></tag></tags></item><item><uuid>d93097ed5ce74d35b6041ef2b5ba18e8</uuid><name>Linux: CPU system time</name><key>system.cpu.util[,system]</key><history>7d</history><value_type>FLOAT</value_type><units>%</units><description>The time the CPU has spent running the kernel and its processes.</description><tags><tag><tag>component</tag><value>cpu</value></tag></tags></item><item><uuid>57f9e2e34fab41e18e2bc93e786c92c6</uuid><name>Linux: CPU user time</name><key>system.cpu.util[,user]</key><history>7d</history><value_type>FLOAT</value_type><units>%</units><description>The time the CPU has spent running users' processes that are not niced.</description><tags><tag><tag>component</tag><value>cpu</value></tag></tags></item><item><uuid>207341f390134e37ad431e2823666eb9</uuid><name>Linux: System name</name><key>system.hostname</key><delay>1h</delay><history>2w</history><value_type>CHAR</value_type><description>The host name of the system.</description><inventory_link>NAME</inventory_link><preprocessing><step><type>DISCARD_UNCHANGED_HEARTBEAT</type><parameters><parameter>12h</parameter></parameters></step></preprocessing><tags><tag><tag>component</tag><value>system</value></tag></tags><triggers><trigger><uuid>371a12f95a26438d8da659c84364631b</uuid><expression>change(/Linux by Zabbix agent mbuz/system.hostname) and length(last(/Linux by Zabbix agent mbuz/system.hostname))&gt;0</expression><name>Linux: System name has changed</name><event_name>Linux: System name has changed (new name: {ITEM.VALUE})</event_name><priority>INFO</priority><description>The name of the system has changed. Acknowledge to close the problem manually.</description><manual_close>YES</manual_close><tags><tag><tag>scope</tag><value>notice</value></tag><tag><tag>scope</tag><value>security</value></tag></tags></trigger></triggers></item><item><uuid>6072902361404672a444841c786875e6</uuid><name>Linux: System local time</name><key>system.localtime</key><history>7d</history><units>unixtime</units><description>The local system time of the host.</description><tags><tag><tag>component</tag><value>system</value></tag></tags><triggers><trigger><uuid>fb77b6ac381c4b5289584bd91e7da7d5</uuid><expression>fuzzytime(/Linux by Zabbix agent mbuz/system.localtime,{$SYSTEM.FUZZYTIME.MAX})=0</expression><name>Linux: System time is out of sync</name><event_name>Linux: System time is out of sync (diff with Zabbix server &gt; {$SYSTEM.FUZZYTIME.MAX}s)</event_name><priority>WARNING</priority><description>The host's system time is different from Zabbix server time.</description><manual_close>YES</manual_close><tags><tag><tag>scope</tag><value>availability</value></tag><tag><tag>scope</tag><value>performance</value></tag></tags></trigger></triggers></item><item><uuid>fd21580a151246b0a340bf924c326aa8</uuid><name>Linux: Operating system architecture</name><key>system.sw.arch</key><delay>1h</delay><history>2w</history><value_type>CHAR</value_type><description>The architecture of the operating system.</description><preprocessing><step><type>DISCARD_UNCHANGED_HEARTBEAT</type><parameters><parameter>1d</parameter></parameters></step></preprocessing><tags><tag><tag>component</tag><value>os</value></tag></tags></item><item><uuid>5e4c3d14634843e9b7b182e8fc08efbe</uuid><name>Linux: Operating system</name><key>system.sw.os</key><delay>1h</delay><history>2w</history><value_type>CHAR</value_type><inventory_link>OS</inventory_link><preprocessing><step><type>DISCARD_UNCHANGED_HEARTBEAT</type><parameters><parameter>1d</parameter></parameters></step></preprocessing><tags><tag><tag>component</tag><value>os</value></tag></tags><triggers><trigger><uuid>b1998f98c06b49dd8d71e1c6df409371</uuid><expression>change(/Linux by Zabbix agent mbuz/system.sw.os) and length(last(/Linux by Zabbix agent mbuz/system.sw.os))&gt;0</expression><name>Linux: Operating system description has changed</name><priority>INFO</priority><description>The description of the operating system has changed. Possible reasons are that the system has been updated or replaced. Acknowledge to close the problem manually.</description><manual_close>YES</manual_close><dependencies><dependency><name>Linux: System name has changed</name><expression>change(/Linux by Zabbix agent mbuz/system.hostname) and length(last(/Linux by Zabbix agent mbuz/system.hostname))&gt;0</expression></dependency></dependencies><tags><tag><tag>scope</tag><value>notice</value></tag></tags></trigger></triggers></item><item><uuid>58818005e76d46dda14d6592f601ab00</uuid><name>Linux: Number of installed packages</name><key>system.sw.packages.get</key><delay>1h</delay><history>7d</history><preprocessing><step><type>JSONPATH</type><parameters><parameter>$.length()</parameter></parameters></step><step><type>DISCARD_UNCHANGED_HEARTBEAT</type><parameters><parameter>12h</parameter></parameters></step></preprocessing><tags><tag><tag>component</tag><value>os</value></tag></tags><triggers><trigger><uuid>b950c306394f4b3c902060a8273cbcde</uuid><expression>change(/Linux by Zabbix agent mbuz/system.sw.packages.get)&lt;&gt;0</expression><name>Linux: Number of installed packages has been changed</name><status>DISABLED</status><priority>WARNING</priority><manual_close>YES</manual_close><tags><tag><tag>scope</tag><value>notice</value></tag></tags></trigger></triggers></item><item><uuid>160b82c121b147cbbf18c34dbb01d3ce</uuid><name>Linux: Free swap space</name><key>system.swap.size[,free]</key><history>7d</history><units>B</units><description>The free space of the swap volume/file expressed in bytes.</description><tags><tag><tag>component</tag><value>memory</value></tag><tag><tag>component</tag><value>storage</value></tag></tags></item><item><uuid>ca423242172f4b20ba47c26f4a61aee7</uuid><name>Linux: Free swap space in %</name><key>system.swap.size[,pfree]</key><history>7d</history><value_type>FLOAT</value_type><units>%</units><description>The free space of the swap volume/file expressed in %.</description><tags><tag><tag>component</tag><value>memory</value></tag><tag><tag>component</tag><value>storage</value></tag></tags></item><item><uuid>102c81b5523c4be0b4beae3cb88ebde1</uuid><name>Linux: Total swap space</name><key>system.swap.size[,total]</key><history>7d</history><units>B</units><description>The total space of the swap volume/file expressed in bytes.</description><tags><tag><tag>component</tag><value>memory</value></tag><tag><tag>component</tag><value>storage</value></tag></tags></item><item><uuid>fc6898682f904c57ba28bcb3748b237f</uuid><name>Linux: System description</name><key>system.uname</key><delay>15m</delay><history>2w</history><value_type>CHAR</value_type><description>The information as normally returned by `uname -a`.</description><preprocessing><step><type>DISCARD_UNCHANGED_HEARTBEAT</type><parameters><parameter>12h</parameter></parameters></step></preprocessing><tags><tag><tag>component</tag><value>system</value></tag></tags></item><item><uuid>8537f6c6ac6b438c80caf227946df891</uuid><name>Linux: System uptime</name><key>system.uptime</key><delay>30s</delay><history>2w</history><trends>0</trends><units>uptime</units><description>The system uptime expressed in the following format: &quot;N days, hh:mm:ss&quot;.</description><tags><tag><tag>component</tag><value>system</value></tag></tags><triggers><trigger><uuid>1dbab80d7b6847e5b5a676cffba0fd1d</uuid><expression>last(/Linux by Zabbix agent mbuz/system.uptime)&lt;10m</expression><name>Linux: {HOST.NAME} has been restarted</name><event_name>Linux: {HOST.NAME} has been restarted (uptime &lt; 10m) current time: now()</event_name><priority>WARNING</priority><description>The host uptime is less than 10 minutes.</description><manual_close>YES</manual_close><tags><tag><tag>scope</tag><value>notice</value></tag></tags></trigger></triggers></item><item><uuid>88056b3d2e424d5aba7cabcd4b043c9e</uuid><name>Linux: Number of logged in users</name><key>system.users.num</key><history>7d</history><description>The number of users who are currently logged in.</description><tags><tag><tag>component</tag><value>environment</value></tag></tags></item><item><uuid>3b93d3590df24a46b29f6eb06f5e2446</uuid><name>Linux: Checksum of /etc/passwd</name><key>vfs.file.cksum[/etc/passwd,sha256]</key><delay>15m</delay><history>7d</history><value_type>CHAR</value_type><preprocessing><step><type>DISCARD_UNCHANGED_HEARTBEAT</type><parameters><parameter>1h</parameter></parameters></step></preprocessing><tags><tag><tag>component</tag><value>security</value></tag></tags><triggers><trigger><uuid>3a764881727b4e7eb01e137ccfc968a2</uuid><expression>last(/Linux by Zabbix agent mbuz/vfs.file.cksum[/etc/passwd,sha256],#1)&lt;&gt;last(/Linux by Zabbix agent mbuz/vfs.file.cksum[/etc/passwd,sha256],#2)</expression><name>Linux: /etc/passwd has been changed</name><priority>INFO</priority><manual_close>YES</manual_close><dependencies><dependency><name>Linux: Operating system description has changed</name><expression>change(/Linux by Zabbix agent mbuz/system.sw.os) and length(last(/Linux by Zabbix agent mbuz/system.sw.os))&gt;0</expression></dependency><dependency><name>Linux: System name has changed</name><expression>change(/Linux by Zabbix agent mbuz/system.hostname) and length(last(/Linux by Zabbix agent mbuz/system.hostname))&gt;0</expression></dependency></dependencies><tags><tag><tag>scope</tag><value>security</value></tag></tags></trigger></triggers></item><item><uuid>868440292732425c8f9df52882822c82</uuid><name>Linux: Get filesystems</name><key>vfs.fs.get</key><delay>10m</delay><history>0</history><value_type>TEXT</value_type><description>The `vfs.fs.get` key acquires raw information set about the file systems. Later to be extracted by preprocessing in dependent items.</description><tags><tag><tag>component</tag><value>raw</value></tag></tags></item><item><uuid>e811e6e2ae84461294e121f12e767b40</uuid><name>Linux: Available memory</name><key>vm.memory.size[available]</key><history>7d</history><units>B</units><description>The available memory:
- in Linux - available = free + buffers + cache;
- on other platforms calculation may vary.

See also Appendixes in Zabbix Documentation about parameters of the `vm.memory.size` item.</description><tags><tag><tag>component</tag><value>memory</value></tag></tags></item><item><uuid>20779a4c43374e5f9bea2584e93b85ef</uuid><name>Linux: Available memory in %</name><key>vm.memory.size[pavailable]</key><history>7d</history><value_type>FLOAT</value_type><units>%</units><description>The available memory as percentage of the total. See also Appendixes in Zabbix Documentation about parameters of the `vm.memory.size` item.</description><tags><tag><tag>component</tag><value>memory</value></tag></tags></item><item><uuid>d5c3541a7c0949ce812df1beb0732941</uuid><name>Linux: Total memory</name><key>vm.memory.size[total]</key><history>7d</history><units>B</units><description>The total memory expressed in bytes.</description><tags><tag><tag>component</tag><value>memory</value></tag></tags></item><item><uuid>403cebed115441369e94d35d070ca7b8</uuid><name>Linux: Memory utilization</name><type>DEPENDENT</type><key>vm.memory.utilization</key><history>7d</history><value_type>FLOAT</value_type><units>%</units><description>The percentage of used memory is calculated as `100-pavailable`.</description><preprocessing><step><type>JAVASCRIPT</type><parameters><parameter>return (100-value);</parameter></parameters></step></preprocessing><master_item><key>vm.memory.size[pavailable]</key></master_item><tags><tag><tag>component</tag><value>memory</value></tag></tags><triggers><trigger><uuid>cfd395b1cde74ef18a5e5f840bd5142a</uuid><expression>min(/Linux by Zabbix agent mbuz/vm.memory.utilization,5m)&gt;{$MEMORY.UTIL.MAX}</expression><name>Linux: High memory utilization</name><event_name>Linux: High memory utilization (&gt;{$MEMORY.UTIL.MAX}% for 5m)</event_name><priority>AVERAGE</priority><description>The system is running out of free memory.</description><dependencies><dependency><name>Linux: Lack of available memory</name><expression>max(/Linux by Zabbix agent mbuz/vm.memory.size[available],5m)&lt;{$MEMORY.AVAILABLE.MIN} and last(/Linux by Zabbix agent mbuz/vm.memory.size[total])&gt;0</expression></dependency></dependencies><tags><tag><tag>scope</tag><value>capacity</value></tag><tag><tag>scope</tag><value>performance</value></tag></tags></trigger></triggers></item><item><uuid>ca48c53be1bf46ae9dd2707158a55139</uuid><name>Linux: Zabbix agent availability</name><type>INTERNAL</type><key>zabbix[host,agent,available]</key><history>7d</history><description>Monitoring the availability status of the agent.</description><valuemap><name>zabbix.host.available</name></valuemap><tags><tag><tag>component</tag><value>system</value></tag></tags><triggers><trigger><uuid>93594214371b4dc88b41663cad8537f0</uuid><expression>max(/Linux by Zabbix agent mbuz/zabbix[host,agent,available],{$AGENT.TIMEOUT})=0</expression><name>Linux: Zabbix agent is not available</name><event_name>Linux: Zabbix agent is not available (for {$AGENT.TIMEOUT})</event_name><priority>AVERAGE</priority><description>For passive only agents, host availability is used with {$AGENT.TIMEOUT} as time threshold.</description><manual_close>YES</manual_close><tags><tag><tag>scope</tag><value>availability</value></tag></tags></trigger></triggers></item></items><discovery_rules><discovery_rule><uuid>acfdea9c46ef48c68e6636f43b8f96a2</uuid><name>Network interface discovery</name><key>net.if.discovery</key><delay>12h</delay><filter><evaltype>AND</evaltype><conditions><condition><macro>{#IFNAME}</macro><value>{$NET.IF.IFNAME.MATCHES}</value></condition><condition><macro>{#IFNAME}</macro><value>{$NET.IF.IFNAME.NOT_MATCHES}</value><operator>NOT_MATCHES_REGEX</operator></condition></conditions></filter><lifetime>1d</lifetime><enabled_lifetime_type>DISABLE_AFTER</enabled_lifetime_type><enabled_lifetime>1h</enabled_lifetime><description>The discovery of network interfaces.</description><item_prototypes><item_prototype><uuid>4d66608e190e4be7a438ea5d0d26e353</uuid><name>Interface {#IFNAME}: Inbound packets discarded</name><key>net.if.in[&quot;{#IFNAME}&quot;,dropped]</key><delay>3m</delay><history>7d</history><preprocessing><step><type>CHANGE_PER_SECOND</type></step></preprocessing><tags><tag><tag>component</tag><value>network</value></tag><tag><tag>interface</tag><value>{#IFNAME}</value></tag></tags></item_prototype><item_prototype><uuid>ed79960ca91f4e2ca45fed014a02c50b</uuid><name>Interface {#IFNAME}: Inbound packets with errors</name><key>net.if.in[&quot;{#IFNAME}&quot;,errors]</key><delay>3m</delay><history>7d</history><preprocessing><step><type>CHANGE_PER_SECOND</type></step></preprocessing><tags><tag><tag>component</tag><value>network</value></tag><tag><tag>interface</tag><value>{#IFNAME}</value></tag></tags></item_prototype><item_prototype><uuid>c9941a1f8d904309b581cae5ccc1660c</uuid><name>Interface {#IFNAME}: Bits received</name><key>net.if.in[&quot;{#IFNAME}&quot;]</key><delay>3m</delay><history>7d</history><units>bps</units><preprocessing><step><type>CHANGE_PER_SECOND</type></step><step><type>MULTIPLIER</type><parameters><parameter>8</parameter></parameters></step></preprocessing><tags><tag><tag>component</tag><value>network</value></tag><tag><tag>interface</tag><value>{#IFNAME}</value></tag></tags></item_prototype><item_prototype><uuid>0795a375a41d46a2b5c89547061cec8e</uuid><name>Interface {#IFNAME}: Outbound packets discarded</name><key>net.if.out[&quot;{#IFNAME}&quot;,dropped]</key><delay>3m</delay><history>7d</history><preprocessing><step><type>CHANGE_PER_SECOND</type></step></preprocessing><tags><tag><tag>component</tag><value>network</value></tag><tag><tag>interface</tag><value>{#IFNAME}</value></tag></tags></item_prototype><item_prototype><uuid>f8e8bbc069414e928a5da9817f4599a5</uuid><name>Interface {#IFNAME}: Outbound packets with errors</name><key>net.if.out[&quot;{#IFNAME}&quot;,errors]</key><delay>3m</delay><history>7d</history><preprocessing><step><type>CHANGE_PER_SECOND</type></step></preprocessing><tags><tag><tag>component</tag><value>network</value></tag><tag><tag>interface</tag><value>{#IFNAME}</value></tag></tags></item_prototype><item_prototype><uuid>82897d99b0114c67b0f5b449c768c8e7</uuid><name>Interface {#IFNAME}: Bits sent</name><key>net.if.out[&quot;{#IFNAME}&quot;]</key><delay>3m</delay><history>7d</history><units>bps</units><preprocessing><step><type>CHANGE_PER_SECOND</type></step><step><type>MULTIPLIER</type><parameters><parameter>8</parameter></parameters></step></preprocessing><tags><tag><tag>component</tag><value>network</value></tag><tag><tag>interface</tag><value>{#IFNAME}</value></tag></tags></item_prototype><item_prototype><uuid>3efd24ad36b04eb995cfeab82721c2fe</uuid><name>Interface {#IFNAME}: Operational status</name><key>vfs.file.contents[&quot;/sys/class/net/{#IFNAME}/operstate&quot;]</key><history>7d</history><trends>0</trends><description>Reference: https://www.kernel.org/doc/Documentation/networking/operstates.txt</description><valuemap><name>ifOperStatus</name></valuemap><preprocessing><step><type>JAVASCRIPT</type><parameters><parameter>var newvalue;
switch(value) {
  case &quot;unknown&quot;:
    newvalue = 0;
    break;
  case &quot;notpresent&quot;:
    newvalue = 1;
    break;
  case &quot;down&quot;:
    newvalue = 2;
    break;
  case &quot;lowerlayerdown&quot;:
    newvalue = 3;
    break;
  case &quot;testing&quot;:
    newvalue = 4;
    break;
  case &quot;dormant&quot;:
    newvalue = 5;
    break;
  case &quot;up&quot;:
    newvalue = 6;
    break;  default:
    newvalue = &quot;Problem parsing interface operstate in JS&quot;;
}
return newvalue;</parameter></parameters></step></preprocessing><tags><tag><tag>component</tag><value>network</value></tag><tag><tag>interface</tag><value>{#IFNAME}</value></tag></tags><trigger_prototypes><trigger_prototype><uuid>4d7f18ca132340b885c0692464dc429f</uuid><expression>{$IFCONTROL:&quot;{#IFNAME}&quot;}=1 and last(/Linux by Zabbix agent mbuz/vfs.file.contents[&quot;/sys/class/net/{#IFNAME}/operstate&quot;])=2 and (last(/Linux by Zabbix agent mbuz/vfs.file.contents[&quot;/sys/class/net/{#IFNAME}/operstate&quot;],#1)&lt;&gt;last(/Linux by Zabbix agent mbuz/vfs.file.contents[&quot;/sys/class/net/{#IFNAME}/operstate&quot;],#2))</expression><recovery_mode>RECOVERY_EXPRESSION</recovery_mode><recovery_expression>last(/Linux by Zabbix agent mbuz/vfs.file.contents[&quot;/sys/class/net/{#IFNAME}/operstate&quot;])&lt;&gt;2 or {$IFCONTROL:&quot;{#IFNAME}&quot;}=0</recovery_expression><name>Interface {#IFNAME}: Link down</name><opdata>Current state: {ITEM.LASTVALUE1}</opdata><priority>AVERAGE</priority><description>This trigger expression works as follows:
1. It can be triggered if the operations status is down.
2. `{$IFCONTROL:&quot;{#IFNAME}&quot;}=1` - a user can redefine context macro to value - 0. That marks this interface as not important. No new trigger will be fired if this interface is down.
3. `{TEMPLATE_NAME:METRIC.diff()}=1` - the trigger fires only if the operational status was up to (1) sometime before (so, do not fire for the 'eternal off' interfaces.)

WARNING: if closed manually - it will not fire again on the next poll, because of .diff.</description><manual_close>YES</manual_close><tags><tag><tag>scope</tag><value>availability</value></tag></tags></trigger_prototype></trigger_prototypes></item_prototype><item_prototype><uuid>f4c456e1f9ef4adbbd11f1ee17fa4d76</uuid><name>Interface {#IFNAME}: Speed</name><key>vfs.file.contents[&quot;/sys/class/net/{#IFNAME}/speed&quot;]</key><delay>5m</delay><history>7d</history><trends>0</trends><units>bps</units><description>It indicates the latest or current speed value of the interface. The value is an integer representing the link speed expressed in bits/sec.
This attribute is only valid for the interfaces that implement the ethtool `get_link_ksettings` method (mostly Ethernet).

Reference: https://www.kernel.org/doc/Documentation/ABI/testing/sysfs-class-net</description><preprocessing><step><type>MULTIPLIER</type><parameters><parameter>1000000</parameter></parameters></step><step><type>DISCARD_UNCHANGED_HEARTBEAT</type><parameters><parameter>1h</parameter></parameters></step></preprocessing><tags><tag><tag>component</tag><value>network</value></tag><tag><tag>interface</tag><value>{#IFNAME}</value></tag></tags></item_prototype><item_prototype><uuid>d537e74070c74e4385ad241e8514dd3a</uuid><name>Interface {#IFNAME}: Interface type</name><key>vfs.file.contents[&quot;/sys/class/net/{#IFNAME}/type&quot;]</key><delay>1h</delay><history>7d</history><trends>0</trends><description>It indicates the interface protocol type as a decimal value.
See `include/uapi/linux/if_arp.h` for all possible values.
Reference: https://www.kernel.org/doc/Documentation/ABI/testing/sysfs-class-net</description><valuemap><name>Linux::Interface protocol types</name></valuemap><preprocessing><step><type>DISCARD_UNCHANGED_HEARTBEAT</type><parameters><parameter>1d</parameter></parameters></step></preprocessing><tags><tag><tag>component</tag><value>network</value></tag><tag><tag>interface</tag><value>{#IFNAME}</value></tag></tags></item_prototype></item_prototypes><trigger_prototypes><trigger_prototype><uuid>2ffdc1d5a318492bb497facd263843bd</uuid><expression>change(/Linux by Zabbix agent mbuz/vfs.file.contents[&quot;/sys/class/net/{#IFNAME}/speed&quot;])&lt;0 and last(/Linux by Zabbix agent mbuz/vfs.file.contents[&quot;/sys/class/net/{#IFNAME}/speed&quot;])&gt;0
and
(last(/Linux by Zabbix agent mbuz/vfs.file.contents[&quot;/sys/class/net/{#IFNAME}/type&quot;])=6 or last(/Linux by Zabbix agent mbuz/vfs.file.contents[&quot;/sys/class/net/{#IFNAME}/type&quot;])=1)
and
(last(/Linux by Zabbix agent mbuz/vfs.file.contents[&quot;/sys/class/net/{#IFNAME}/operstate&quot;])&lt;&gt;2)</expression><recovery_mode>RECOVERY_EXPRESSION</recovery_mode><recovery_expression>(change(/Linux by Zabbix agent mbuz/vfs.file.contents[&quot;/sys/class/net/{#IFNAME}/speed&quot;])&gt;0 and last(/Linux by Zabbix agent mbuz/vfs.file.contents[&quot;/sys/class/net/{#IFNAME}/speed&quot;],#2)&gt;0) or
(last(/Linux by Zabbix agent mbuz/vfs.file.contents[&quot;/sys/class/net/{#IFNAME}/operstate&quot;])=2)</recovery_expression><name>Interface {#IFNAME}: Ethernet has changed to lower speed than it was before</name><opdata>Current reported speed: {ITEM.LASTVALUE1}</opdata><priority>INFO</priority><description>This Ethernet connection has transitioned down from its known maximum speed. This might be a sign of autonegotiation issues. Acknowledge to close the problem manually.</description><manual_close>YES</manual_close><dependencies><dependency><name>Interface {#IFNAME}: Link down</name><expression>{$IFCONTROL:&quot;{#IFNAME}&quot;}=1 and last(/Linux by Zabbix agent mbuz/vfs.file.contents[&quot;/sys/class/net/{#IFNAME}/operstate&quot;])=2 and (last(/Linux by Zabbix agent mbuz/vfs.file.contents[&quot;/sys/class/net/{#IFNAME}/operstate&quot;],#1)&lt;&gt;last(/Linux by Zabbix agent mbuz/vfs.file.contents[&quot;/sys/class/net/{#IFNAME}/operstate&quot;],#2))</expression><recovery_expression>last(/Linux by Zabbix agent mbuz/vfs.file.contents[&quot;/sys/class/net/{#IFNAME}/operstate&quot;])&lt;&gt;2 or {$IFCONTROL:&quot;{#IFNAME}&quot;}=0</recovery_expression></dependency></dependencies><tags><tag><tag>scope</tag><value>performance</value></tag></tags></trigger_prototype><trigger_prototype><uuid>f64186d30b4e4c4281fce84349cbd646</uuid><expression>(avg(/Linux by Zabbix agent mbuz/net.if.in[&quot;{#IFNAME}&quot;],15m)&gt;({$IF.UTIL.MAX:&quot;{#IFNAME}&quot;}/100)*last(/Linux by Zabbix agent mbuz/vfs.file.contents[&quot;/sys/class/net/{#IFNAME}/speed&quot;]) or
avg(/Linux by Zabbix agent mbuz/net.if.out[&quot;{#IFNAME}&quot;],15m)&gt;({$IF.UTIL.MAX:&quot;{#IFNAME}&quot;}/100)*last(/Linux by Zabbix agent mbuz/vfs.file.contents[&quot;/sys/class/net/{#IFNAME}/speed&quot;])) and
last(/Linux by Zabbix agent mbuz/vfs.file.contents[&quot;/sys/class/net/{#IFNAME}/speed&quot;])&gt;0</expression><recovery_mode>RECOVERY_EXPRESSION</recovery_mode><recovery_expression>avg(/Linux by Zabbix agent mbuz/net.if.in[&quot;{#IFNAME}&quot;],15m)&lt;(({$IF.UTIL.MAX:&quot;{#IFNAME}&quot;}-3)/100)*last(/Linux by Zabbix agent mbuz/vfs.file.contents[&quot;/sys/class/net/{#IFNAME}/speed&quot;]) and
avg(/Linux by Zabbix agent mbuz/net.if.out[&quot;{#IFNAME}&quot;],15m)&lt;(({$IF.UTIL.MAX:&quot;{#IFNAME}&quot;}-3)/100)*last(/Linux by Zabbix agent mbuz/vfs.file.contents[&quot;/sys/class/net/{#IFNAME}/speed&quot;])</recovery_expression><name>Interface {#IFNAME}: High bandwidth usage</name><event_name>Interface {#IFNAME}: High bandwidth usage (&gt;{$IF.UTIL.MAX:&quot;{#IFNAME}&quot;}%)</event_name><opdata>In: {ITEM.LASTVALUE1}, out: {ITEM.LASTVALUE3}, speed: {ITEM.LASTVALUE2}</opdata><priority>WARNING</priority><description>The utilization of the network interface is close to its estimated maximum bandwidth.</description><manual_close>YES</manual_close><dependencies><dependency><name>Interface {#IFNAME}: Link down</name><expression>{$IFCONTROL:&quot;{#IFNAME}&quot;}=1 and last(/Linux by Zabbix agent mbuz/vfs.file.contents[&quot;/sys/class/net/{#IFNAME}/operstate&quot;])=2 and (last(/Linux by Zabbix agent mbuz/vfs.file.contents[&quot;/sys/class/net/{#IFNAME}/operstate&quot;],#1)&lt;&gt;last(/Linux by Zabbix agent mbuz/vfs.file.contents[&quot;/sys/class/net/{#IFNAME}/operstate&quot;],#2))</expression><recovery_expression>last(/Linux by Zabbix agent mbuz/vfs.file.contents[&quot;/sys/class/net/{#IFNAME}/operstate&quot;])&lt;&gt;2 or {$IFCONTROL:&quot;{#IFNAME}&quot;}=0</recovery_expression></dependency></dependencies><tags><tag><tag>scope</tag><value>performance</value></tag></tags></trigger_prototype><trigger_prototype><uuid>ad50aecf8e7746b2a85f24507f1d511d</uuid><expression>min(/Linux by Zabbix agent mbuz/net.if.in[&quot;{#IFNAME}&quot;,errors],5m)&gt;{$IF.ERRORS.WARN:&quot;{#IFNAME}&quot;}
or min(/Linux by Zabbix agent mbuz/net.if.out[&quot;{#IFNAME}&quot;,errors],5m)&gt;{$IF.ERRORS.WARN:&quot;{#IFNAME}&quot;}</expression><recovery_mode>RECOVERY_EXPRESSION</recovery_mode><recovery_expression>max(/Linux by Zabbix agent mbuz/net.if.in[&quot;{#IFNAME}&quot;,errors],5m)&lt;{$IF.ERRORS.WARN:&quot;{#IFNAME}&quot;}*0.8
and max(/Linux by Zabbix agent mbuz/net.if.out[&quot;{#IFNAME}&quot;,errors],5m)&lt;{$IF.ERRORS.WARN:&quot;{#IFNAME}&quot;}*0.8</recovery_expression><name>Interface {#IFNAME}: High error rate</name><event_name>Interface {#IFNAME}: High error rate (&gt;{$IF.ERRORS.WARN:&quot;{#IFNAME}&quot;} for 5m)</event_name><opdata>errors in: {ITEM.LASTVALUE1}, errors out: {ITEM.LASTVALUE2}</opdata><priority>WARNING</priority><description>It recovers when it is below 80% of the `{$IF.ERRORS.WARN:&quot;{#IFNAME}&quot;}` threshold.</description><manual_close>YES</manual_close><dependencies><dependency><name>Interface {#IFNAME}: Link down</name><expression>{$IFCONTROL:&quot;{#IFNAME}&quot;}=1 and last(/Linux by Zabbix agent mbuz/vfs.file.contents[&quot;/sys/class/net/{#IFNAME}/operstate&quot;])=2 and (last(/Linux by Zabbix agent mbuz/vfs.file.contents[&quot;/sys/class/net/{#IFNAME}/operstate&quot;],#1)&lt;&gt;last(/Linux by Zabbix agent mbuz/vfs.file.contents[&quot;/sys/class/net/{#IFNAME}/operstate&quot;],#2))</expression><recovery_expression>last(/Linux by Zabbix agent mbuz/vfs.file.contents[&quot;/sys/class/net/{#IFNAME}/operstate&quot;])&lt;&gt;2 or {$IFCONTROL:&quot;{#IFNAME}&quot;}=0</recovery_expression></dependency></dependencies><tags><tag><tag>scope</tag><value>availability</value></tag><tag><tag>scope</tag><value>performance</value></tag></tags></trigger_prototype></trigger_prototypes><graph_prototypes><graph_prototype><uuid>50ced0f22d9d478eb4b639ef64e242ab</uuid><name>Interface {#IFNAME}: Network traffic</name><graph_items><graph_item><drawtype>GRADIENT_LINE</drawtype><color>199C0D</color><item><host>Linux by Zabbix agent mbuz</host><key>net.if.in[&quot;{#IFNAME}&quot;]</key></item></graph_item><graph_item><sortorder>1</sortorder><drawtype>BOLD_LINE</drawtype><color>F63100</color><item><host>Linux by Zabbix agent mbuz</host><key>net.if.out[&quot;{#IFNAME}&quot;]</key></item></graph_item><graph_item><sortorder>2</sortorder><color>00611C</color><yaxisside>RIGHT</yaxisside><item><host>Linux by Zabbix agent mbuz</host><key>net.if.out[&quot;{#IFNAME}&quot;,errors]</key></item></graph_item><graph_item><sortorder>3</sortorder><color>F7941D</color><yaxisside>RIGHT</yaxisside><item><host>Linux by Zabbix agent mbuz</host><key>net.if.in[&quot;{#IFNAME}&quot;,errors]</key></item></graph_item><graph_item><sortorder>4</sortorder><color>FC6EA3</color><yaxisside>RIGHT</yaxisside><item><host>Linux by Zabbix agent mbuz</host><key>net.if.out[&quot;{#IFNAME}&quot;,dropped]</key></item></graph_item><graph_item><sortorder>5</sortorder><color>6C59DC</color><yaxisside>RIGHT</yaxisside><item><host>Linux by Zabbix agent mbuz</host><key>net.if.in[&quot;{#IFNAME}&quot;,dropped]</key></item></graph_item></graph_items></graph_prototype></graph_prototypes></discovery_rule><discovery_rule><uuid>2bbdc79f082d4c618e01bec625e9c90a</uuid><name>Block devices discovery</name><key>vfs.dev.discovery</key><delay>12h</delay><filter><evaltype>AND</evaltype><conditions><condition><macro>{#DEVNAME}</macro><value>{$VFS.DEV.DEVNAME.MATCHES}</value></condition><condition><macro>{#DEVNAME}</macro><value>{$VFS.DEV.DEVNAME.NOT_MATCHES}</value><operator>NOT_MATCHES_REGEX</operator></condition><condition><macro>{#DEVTYPE}</macro><value>disk</value></condition></conditions></filter><lifetime>1d</lifetime><enabled_lifetime_type>DISABLE_AFTER</enabled_lifetime_type><enabled_lifetime>1h</enabled_lifetime><item_prototypes><item_prototype><uuid>5e29abb8d56044f69426ed3594f8ac9f</uuid><name>{#DEVNAME}: Disk average queue size (avgqu-sz)</name><type>DEPENDENT</type><key>vfs.dev.queue_size[{#DEVNAME}]</key><history>7d</history><value_type>FLOAT</value_type><description>The current average disk queue; the number of requests outstanding on the disk while the performance data is being collected.</description><preprocessing><step><type>JSONPATH</type><parameters><parameter>$[10]</parameter></parameters></step><step><type>CHANGE_PER_SECOND</type></step><step><type>MULTIPLIER</type><parameters><parameter>0.001</parameter></parameters></step></preprocessing><master_item><key>vfs.file.contents[/sys/block/{#DEVNAME}/stat]</key></master_item><tags><tag><tag>component</tag><value>storage</value></tag><tag><tag>disk</tag><value>{#DEVNAME}</value></tag></tags></item_prototype><item_prototype><uuid>9600208af80e4a6abe55bb5a2240ea8e</uuid><name>{#DEVNAME}: Disk read request avg waiting time (r_await)</name><type>CALCULATED</type><key>vfs.dev.read.await[{#DEVNAME}]</key><history>7d</history><value_type>FLOAT</value_type><units>!ms</units><params>(last(//vfs.dev.read.time.rate[{#DEVNAME}])/(last(//vfs.dev.read.rate[{#DEVNAME}])+(last(//vfs.dev.read.rate[{#DEVNAME}])=0)))*1000*(last(//vfs.dev.read.rate[{#DEVNAME}]) &gt; 0)</params><description>This formula contains two Boolean expressions that evaluate to 1 or 0 in order to set the calculated metric to zero and to avoid the exception - division by zero.</description><tags><tag><tag>component</tag><value>storage</value></tag><tag><tag>disk</tag><value>{#DEVNAME}</value></tag></tags></item_prototype><item_prototype><uuid>f4b982d8e7ee47adb34d74d817db43a6</uuid><name>{#DEVNAME}: Disk read rate</name><type>DEPENDENT</type><key>vfs.dev.read.rate[{#DEVNAME}]</key><history>7d</history><value_type>FLOAT</value_type><units>!r/s</units><description>r/s (read operations per second) - the number (after merges) of read requests completed per second for the device.</description><preprocessing><step><type>JSONPATH</type><parameters><parameter>$[0]</parameter></parameters></step><step><type>CHANGE_PER_SECOND</type></step></preprocessing><master_item><key>vfs.file.contents[/sys/block/{#DEVNAME}/stat]</key></master_item><tags><tag><tag>component</tag><value>storage</value></tag><tag><tag>disk</tag><value>{#DEVNAME}</value></tag></tags></item_prototype><item_prototype><uuid>877a3e892d9e489f98f2f16ea05bfdc2</uuid><name>{#DEVNAME}: Disk read time (rate)</name><type>DEPENDENT</type><key>vfs.dev.read.time.rate[{#DEVNAME}]</key><history>7d</history><value_type>FLOAT</value_type><description>The rate of total read time counter; used in `r_await` calculation.</description><preprocessing><step><type>JSONPATH</type><parameters><parameter>$[3]</parameter></parameters></step><step><type>CHANGE_PER_SECOND</type></step><step><type>MULTIPLIER</type><parameters><parameter>0.001</parameter></parameters></step></preprocessing><master_item><key>vfs.file.contents[/sys/block/{#DEVNAME}/stat]</key></master_item><tags><tag><tag>component</tag><value>storage</value></tag><tag><tag>disk</tag><value>{#DEVNAME}</value></tag></tags></item_prototype><item_prototype><uuid>4a3ee3166ee748e1855a2b02d44e9d62</uuid><name>{#DEVNAME}: Disk utilization</name><type>DEPENDENT</type><key>vfs.dev.util[{#DEVNAME}]</key><history>7d</history><value_type>FLOAT</value_type><units>%</units><description>This item is the percentage of elapsed time during which the selected disk drive was busy while servicing read or write requests.</description><preprocessing><step><type>JSONPATH</type><parameters><parameter>$[9]</parameter></parameters></step><step><type>CHANGE_PER_SECOND</type></step><step><type>MULTIPLIER</type><parameters><parameter>0.1</parameter></parameters></step></preprocessing><master_item><key>vfs.file.contents[/sys/block/{#DEVNAME}/stat]</key></master_item><tags><tag><tag>component</tag><value>storage</value></tag><tag><tag>disk</tag><value>{#DEVNAME}</value></tag></tags></item_prototype><item_prototype><uuid>5907708cf4854d48ae3ebf8f0bc41eef</uuid><name>{#DEVNAME}: Disk write request avg waiting time (w_await)</name><type>CALCULATED</type><key>vfs.dev.write.await[{#DEVNAME}]</key><history>7d</history><value_type>FLOAT</value_type><units>!ms</units><params>(last(//vfs.dev.write.time.rate[{#DEVNAME}])/(last(//vfs.dev.write.rate[{#DEVNAME}])+(last(//vfs.dev.write.rate[{#DEVNAME}])=0)))*1000*(last(//vfs.dev.write.rate[{#DEVNAME}]) &gt; 0)</params><description>This formula contains two Boolean expressions that evaluate to 1 or 0 in order to set the calculated metric to zero and to avoid the exception - division by zero.</description><tags><tag><tag>component</tag><value>storage</value></tag><tag><tag>disk</tag><value>{#DEVNAME}</value></tag></tags></item_prototype><item_prototype><uuid>c4eb904dfddd4b0f8cdee4b2c477e213</uuid><name>{#DEVNAME}: Disk write rate</name><type>DEPENDENT</type><key>vfs.dev.write.rate[{#DEVNAME}]</key><history>7d</history><value_type>FLOAT</value_type><units>!w/s</units><description>w/s (write operations per second) - the number (after merges) of write requests completed per second for the device.</description><preprocessing><step><type>JSONPATH</type><parameters><parameter>$[4]</parameter></parameters></step><step><type>CHANGE_PER_SECOND</type></step></preprocessing><master_item><key>vfs.file.contents[/sys/block/{#DEVNAME}/stat]</key></master_item><tags><tag><tag>component</tag><value>storage</value></tag><tag><tag>disk</tag><value>{#DEVNAME}</value></tag></tags></item_prototype><item_prototype><uuid>e828495863304b219e24965f7b91e963</uuid><name>{#DEVNAME}: Disk write time (rate)</name><type>DEPENDENT</type><key>vfs.dev.write.time.rate[{#DEVNAME}]</key><history>7d</history><value_type>FLOAT</value_type><description>The rate of total write time counter; used in `w_await` calculation.</description><preprocessing><step><type>JSONPATH</type><parameters><parameter>$[7]</parameter></parameters></step><step><type>CHANGE_PER_SECOND</type></step><step><type>MULTIPLIER</type><parameters><parameter>0.001</parameter></parameters></step></preprocessing><master_item><key>vfs.file.contents[/sys/block/{#DEVNAME}/stat]</key></master_item><tags><tag><tag>component</tag><value>storage</value></tag><tag><tag>disk</tag><value>{#DEVNAME}</value></tag></tags></item_prototype><item_prototype><uuid>8309fd01a5864ad68866717d0fe67080</uuid><name>{#DEVNAME}: Get stats</name><key>vfs.file.contents[/sys/block/{#DEVNAME}/stat]</key><history>0</history><value_type>TEXT</value_type><description>The contents of get `/sys/block/{#DEVNAME}/stat` to get the disk statistics.</description><preprocessing><step><type>JAVASCRIPT</type><parameters><parameter>return JSON.stringify(value.trim().split(/ +/));</parameter></parameters></step></preprocessing><tags><tag><tag>component</tag><value>raw</value></tag></tags></item_prototype></item_prototypes><trigger_prototypes><trigger_prototype><uuid>eb6230f786d04b658ce62c30a9309a34</uuid><expression>min(/Linux by Zabbix agent mbuz/vfs.dev.read.await[{#DEVNAME}],15m) &gt; {$VFS.DEV.READ.AWAIT.WARN:&quot;{#DEVNAME}&quot;} or min(/Linux by Zabbix agent mbuz/vfs.dev.write.await[{#DEVNAME}],15m) &gt; {$VFS.DEV.WRITE.AWAIT.WARN:&quot;{#DEVNAME}&quot;}</expression><name>{#DEVNAME}: Disk read/write request responses are too high</name><event_name>{#DEVNAME}: Disk read/write request responses are too high (read &gt; {$VFS.DEV.READ.AWAIT.WARN:&quot;{#DEVNAME}&quot;} ms for 15m or write &gt; {$VFS.DEV.WRITE.AWAIT.WARN:&quot;{#DEVNAME}&quot;} ms for 15m)</event_name><priority>WARNING</priority><description>This trigger might indicate the disk `{#DEVNAME}` saturation.</description><tags><tag><tag>scope</tag><value>performance</value></tag></tags></trigger_prototype></trigger_prototypes><graph_prototypes><graph_prototype><uuid>5e9b35b27b90489390d397758fbfdf64</uuid><name>{#DEVNAME}: Disk average waiting time</name><graph_items><graph_item><color>199C0D</color><item><host>Linux by Zabbix agent mbuz</host><key>vfs.dev.read.await[{#DEVNAME}]</key></item></graph_item><graph_item><sortorder>1</sortorder><drawtype>GRADIENT_LINE</drawtype><color>F63100</color><item><host>Linux by Zabbix agent mbuz</host><key>vfs.dev.write.await[{#DEVNAME}]</key></item></graph_item></graph_items></graph_prototype><graph_prototype><uuid>d436d6d5456c44f0a534bf1f681d5039</uuid><name>{#DEVNAME}: Disk read/write rates</name><graph_items><graph_item><color>199C0D</color><item><host>Linux by Zabbix agent mbuz</host><key>vfs.dev.read.rate[{#DEVNAME}]</key></item></graph_item><graph_item><sortorder>1</sortorder><drawtype>GRADIENT_LINE</drawtype><color>F63100</color><item><host>Linux by Zabbix agent mbuz</host><key>vfs.dev.write.rate[{#DEVNAME}]</key></item></graph_item></graph_items></graph_prototype><graph_prototype><uuid>c42e4045e0974e89a306c57fb188c4fa</uuid><name>{#DEVNAME}: Disk utilization and queue</name><graph_items><graph_item><color>199C0D</color><yaxisside>RIGHT</yaxisside><item><host>Linux by Zabbix agent mbuz</host><key>vfs.dev.queue_size[{#DEVNAME}]</key></item></graph_item><graph_item><sortorder>1</sortorder><drawtype>GRADIENT_LINE</drawtype><color>F63100</color><item><host>Linux by Zabbix agent mbuz</host><key>vfs.dev.util[{#DEVNAME}]</key></item></graph_item></graph_items></graph_prototype></graph_prototypes><preprocessing><step><type>DISCARD_UNCHANGED_HEARTBEAT</type><parameters><parameter>1h</parameter></parameters></step></preprocessing></discovery_rule><discovery_rule><uuid>7d090603037e4defb34ef74021d3adcd</uuid><name>Mounted filesystem discovery</name><type>DEPENDENT</type><key>vfs.fs.dependent.discovery</key><filter><evaltype>AND</evaltype><conditions><condition><macro>{#FSNAME}</macro><value>{$VFS.FS.FSNAME.MATCHES}</value></condition><condition><macro>{#FSNAME}</macro><value>{$VFS.FS.FSNAME.NOT_MATCHES}</value><operator>NOT_MATCHES_REGEX</operator></condition><condition><macro>{#FSTYPE}</macro><value>{$VFS.FS.FSTYPE.MATCHES}</value></condition><condition><macro>{#FSTYPE}</macro><value>{$VFS.FS.FSTYPE.NOT_MATCHES}</value><operator>NOT_MATCHES_REGEX</operator></condition></conditions></filter><lifetime>1d</lifetime><enabled_lifetime_type>DISABLE_AFTER</enabled_lifetime_type><enabled_lifetime>1h</enabled_lifetime><description>The discovery of mounted filesystems with different types.</description><item_prototypes><item_prototype><uuid>4da7f08a979a46df8b8aeebb42a46207</uuid><name>{#FSNAME}: Free inodes in %</name><type>DEPENDENT</type><key>vfs.fs.dependent.inode[{#FSNAME},pfree]</key><history>7d</history><value_type>FLOAT</value_type><units>%</units><preprocessing><step><type>JSONPATH</type><parameters><parameter>$.inodes.pfree</parameter></parameters></step></preprocessing><master_item><key>vfs.fs.dependent[{#FSNAME},data]</key></master_item><tags><tag><tag>component</tag><value>storage</value></tag><tag><tag>filesystem</tag><value>{#FSNAME}</value></tag></tags><trigger_prototypes><trigger_prototype><uuid>115b2d37807f476faf6d02ef406acabd</uuid><expression>min(/Linux by Zabbix agent mbuz/vfs.fs.dependent.inode[{#FSNAME},pfree],5m)&lt;{$VFS.FS.INODE.PFREE.MIN.CRIT:&quot;{#FSNAME}&quot;}</expression><name>{#FSNAME}: Running out of free inodes</name><event_name>{#FSNAME}: Running out of free inodes (free &lt; {$VFS.FS.INODE.PFREE.MIN.CRIT:&quot;{#FSNAME}&quot;}%)</event_name><opdata>Free inodes: {ITEM.LASTVALUE1}</opdata><priority>AVERAGE</priority><description>It may become impossible to write to a disk if there are no index nodes left.
The following error messages may be returned as symptoms, even though the free space is available:
- 'No space left on device';
- 'Disk is full'.</description><tags><tag><tag>scope</tag><value>capacity</value></tag><tag><tag>scope</tag><value>performance</value></tag></tags></trigger_prototype><trigger_prototype><uuid>ea012c7295344ffe8c66f7ea54d81042</uuid><expression>min(/Linux by Zabbix agent mbuz/vfs.fs.dependent.inode[{#FSNAME},pfree],5m)&lt;{$VFS.FS.INODE.PFREE.MIN.WARN:&quot;{#FSNAME}&quot;}</expression><name>{#FSNAME}: Running out of free inodes</name><event_name>{#FSNAME}: Running out of free inodes (free &lt; {$VFS.FS.INODE.PFREE.MIN.WARN:&quot;{#FSNAME}&quot;}%)</event_name><opdata>Free inodes: {ITEM.LASTVALUE1}</opdata><priority>WARNING</priority><description>It may become impossible to write to a disk if there are no index nodes left.
The following error messages may be returned as symptoms, even though the free space is available:
- 'No space left on device';
- 'Disk is full'.</description><dependencies><dependency><name>{#FSNAME}: Running out of free inodes</name><expression>min(/Linux by Zabbix agent mbuz/vfs.fs.dependent.inode[{#FSNAME},pfree],5m)&lt;{$VFS.FS.INODE.PFREE.MIN.CRIT:&quot;{#FSNAME}&quot;}</expression></dependency></dependencies><tags><tag><tag>scope</tag><value>capacity</value></tag><tag><tag>scope</tag><value>performance</value></tag></tags></trigger_prototype></trigger_prototypes></item_prototype><item_prototype><uuid>61ffe6fcb9d94199aaeb5d568ab74a27</uuid><name>{#FSNAME}: Space utilization</name><type>DEPENDENT</type><key>vfs.fs.dependent.size[{#FSNAME},pused]</key><history>7d</history><value_type>FLOAT</value_type><units>%</units><description>Space utilization expressed in % for `{#FSNAME}`.</description><preprocessing><step><type>JSONPATH</type><parameters><parameter>$.bytes.pused</parameter></parameters></step></preprocessing><master_item><key>vfs.fs.dependent[{#FSNAME},data]</key></master_item><tags><tag><tag>component</tag><value>storage</value></tag><tag><tag>filesystem</tag><value>{#FSNAME}</value></tag></tags></item_prototype><item_prototype><uuid>a6d90e0bc5ef4fb7acee8682687c485f</uuid><name>{#FSNAME}: Total space</name><type>DEPENDENT</type><key>vfs.fs.dependent.size[{#FSNAME},total]</key><history>7d</history><units>B</units><description>The total space expressed in bytes.</description><preprocessing><step><type>JSONPATH</type><parameters><parameter>$.bytes.total</parameter></parameters></step></preprocessing><master_item><key>vfs.fs.dependent[{#FSNAME},data]</key></master_item><tags><tag><tag>component</tag><value>storage</value></tag><tag><tag>filesystem</tag><value>{#FSNAME}</value></tag></tags></item_prototype><item_prototype><uuid>efee06a191aa4e5c8faa2762988b6955</uuid><name>{#FSNAME}: Used space</name><type>DEPENDENT</type><key>vfs.fs.dependent.size[{#FSNAME},used]</key><history>7d</history><units>B</units><description>Used storage expressed in bytes.</description><preprocessing><step><type>JSONPATH</type><parameters><parameter>$.bytes.used</parameter></parameters></step></preprocessing><master_item><key>vfs.fs.dependent[{#FSNAME},data]</key></master_item><tags><tag><tag>component</tag><value>storage</value></tag><tag><tag>filesystem</tag><value>{#FSNAME}</value></tag></tags></item_prototype><item_prototype><uuid>686df59ab1e64b228a1efc20561cf520</uuid><name>{#FSNAME}: Get filesystem data</name><type>DEPENDENT</type><key>vfs.fs.dependent[{#FSNAME},data]</key><history>1h</history><value_type>TEXT</value_type><preprocessing><step><type>JSONPATH</type><parameters><parameter>$.[?(@.fsname=='{#FSNAME}')].first()</parameter></parameters></step></preprocessing><master_item><key>vfs.fs.get</key></master_item><tags><tag><tag>component</tag><value>raw</value></tag><tag><tag>component</tag><value>storage</value></tag><tag><tag>filesystem</tag><value>{#FSNAME}</value></tag></tags></item_prototype><item_prototype><uuid>c4bfc3639837451bb1fcf98ea654c939</uuid><name>{#FSNAME}: Filesystem is read-only</name><type>DEPENDENT</type><key>vfs.fs.dependent[{#FSNAME},readonly]</key><history>7d</history><description>The filesystem is mounted as read-only. It is available only for Zabbix agents 6.4 and higher.</description><preprocessing><step><type>JSONPATH</type><parameters><parameter>$.options</parameter></parameters><error_handler>DISCARD_VALUE</error_handler></step><step><type>REGEX</type><parameters><parameter>(?:^|,)ro\b</parameter><parameter>1</parameter></parameters><error_handler>CUSTOM_VALUE</error_handler><error_handler_params>0</error_handler_params></step></preprocessing><master_item><key>vfs.fs.dependent[{#FSNAME},data]</key></master_item><tags><tag><tag>component</tag><value>storage</value></tag><tag><tag>filesystem</tag><value>{#FSNAME}</value></tag></tags><trigger_prototypes><trigger_prototype><uuid>c8e2f67378d84b3ba687467bc6daf63a</uuid><expression>last(/Linux by Zabbix agent mbuz/vfs.fs.dependent[{#FSNAME},readonly],#2)=0 and last(/Linux by Zabbix agent mbuz/vfs.fs.dependent[{#FSNAME},readonly])=1</expression><recovery_mode>RECOVERY_EXPRESSION</recovery_mode><recovery_expression>last(/Linux by Zabbix agent mbuz/vfs.fs.dependent[{#FSNAME},readonly])=0</recovery_expression><name>{#FSNAME}: Filesystem has become read-only</name><priority>AVERAGE</priority><description>The filesystem has become read-only. A possible reason is an I/O error. It is available only for Zabbix agents 6.4 and higher.</description><manual_close>YES</manual_close><tags><tag><tag>scope</tag><value>availability</value></tag><tag><tag>scope</tag><value>performance</value></tag></tags></trigger_prototype></trigger_prototypes></item_prototype></item_prototypes><trigger_prototypes><trigger_prototype><uuid>9abccdfff8be4e14967ac917ca09afe1</uuid><expression>last(/Linux by Zabbix agent mbuz/vfs.fs.dependent.size[{#FSNAME},pused])&gt;{$VFS.FS.PUSED.MAX.CRIT:&quot;{#FSNAME}&quot;} and
((last(/Linux by Zabbix agent mbuz/vfs.fs.dependent.size[{#FSNAME},total])-last(/Linux by Zabbix agent mbuz/vfs.fs.dependent.size[{#FSNAME},used]))&lt;{$VFS.FS.FREE.MIN.CRIT:&quot;{#FSNAME}&quot;} or timeleft(/Linux by Zabbix agent mbuz/vfs.fs.dependent.size[{#FSNAME},pused],1h,100)&lt;1d)</expression><name>{#FSNAME}: Disk space is critically low</name><event_name>{#FSNAME}: Disk space is critically low (used &gt; {$VFS.FS.PUSED.MAX.CRIT:&quot;{#FSNAME}&quot;}%)</event_name><opdata>Space used: {ITEM.LASTVALUE3} of {ITEM.LASTVALUE2} ({ITEM.LASTVALUE1})</opdata><priority>AVERAGE</priority><description>Two conditions should match:
1. The first condition - utilization of the space should be above `{$VFS.FS.PUSED.MAX.CRIT:&quot;{#FSNAME}&quot;}`.
2. The second condition should be one of the following:
- the disk free space is less than `{$VFS.FS.FREE.MIN.CRIT:&quot;{#FSNAME}&quot;}`;
- the disk will be full in less than 24 hours.</description><manual_close>YES</manual_close><tags><tag><tag>scope</tag><value>availability</value></tag><tag><tag>scope</tag><value>capacity</value></tag></tags></trigger_prototype><trigger_prototype><uuid>d6d348ea500c428da6ba718816c4b048</uuid><expression>last(/Linux by Zabbix agent mbuz/vfs.fs.dependent.size[{#FSNAME},pused])&gt;{$VFS.FS.PUSED.MAX.WARN:&quot;{#FSNAME}&quot;} and
((last(/Linux by Zabbix agent mbuz/vfs.fs.dependent.size[{#FSNAME},total])-last(/Linux by Zabbix agent mbuz/vfs.fs.dependent.size[{#FSNAME},used]))&lt;{$VFS.FS.FREE.MIN.WARN:&quot;{#FSNAME}&quot;} or timeleft(/Linux by Zabbix agent mbuz/vfs.fs.dependent.size[{#FSNAME},pused],1h,100)&lt;1d)</expression><name>{#FSNAME}: Disk space is low</name><event_name>{#FSNAME}: Disk space is low (used &gt; {$VFS.FS.PUSED.MAX.WARN:&quot;{#FSNAME}&quot;}%)</event_name><opdata>Space used: {ITEM.LASTVALUE3} of {ITEM.LASTVALUE2} ({ITEM.LASTVALUE1})</opdata><priority>WARNING</priority><description>Two conditions should match:
1. The first condition - utilization of the space should be above `{$VFS.FS.PUSED.MAX.WARN:&quot;{#FSNAME}&quot;}`.
2. The second condition should be one of the following:
- the disk free space is less than `{$VFS.FS.FREE.MIN.WARN:&quot;{#FSNAME}&quot;}`;
- the disk will be full in less than 24 hours.</description><manual_close>YES</manual_close><dependencies><dependency><name>{#FSNAME}: Disk space is critically low</name><expression>last(/Linux by Zabbix agent mbuz/vfs.fs.dependent.size[{#FSNAME},pused])&gt;{$VFS.FS.PUSED.MAX.CRIT:&quot;{#FSNAME}&quot;} and
((last(/Linux by Zabbix agent mbuz/vfs.fs.dependent.size[{#FSNAME},total])-last(/Linux by Zabbix agent mbuz/vfs.fs.dependent.size[{#FSNAME},used]))&lt;{$VFS.FS.FREE.MIN.CRIT:&quot;{#FSNAME}&quot;} or timeleft(/Linux by Zabbix agent mbuz/vfs.fs.dependent.size[{#FSNAME},pused],1h,100)&lt;1d)</expression></dependency></dependencies><tags><tag><tag>scope</tag><value>availability</value></tag><tag><tag>scope</tag><value>capacity</value></tag></tags></trigger_prototype></trigger_prototypes><graph_prototypes><graph_prototype><uuid>1e0889c551584013acbb97c84ae89d1c</uuid><name>{#FSNAME}: Disk space usage</name><width>600</width><height>340</height><type>PIE</type><show_3d>YES</show_3d><graph_items><graph_item><color>969696</color><calc_fnc>LAST</calc_fnc><type>GRAPH_SUM</type><item><host>Linux by Zabbix agent mbuz</host><key>vfs.fs.dependent.size[{#FSNAME},total]</key></item></graph_item><graph_item><sortorder>1</sortorder><color>C80000</color><calc_fnc>LAST</calc_fnc><item><host>Linux by Zabbix agent mbuz</host><key>vfs.fs.dependent.size[{#FSNAME},used]</key></item></graph_item></graph_items></graph_prototype></graph_prototypes><master_item><key>vfs.fs.get</key></master_item><lld_macro_paths><lld_macro_path><lld_macro>{#FSNAME}</lld_macro><path>$.fsname</path></lld_macro_path><lld_macro_path><lld_macro>{#FSTYPE}</lld_macro><path>$.fstype</path></lld_macro_path></lld_macro_paths><overrides><override><name>Skip metadata collection for dynamic FS</name><step>1</step><filter><conditions><condition><macro>{#FSTYPE}</macro><value>^(btrfs|zfs)$</value></condition></conditions></filter><operations><operation><operator>LIKE</operator><value>inode</value><discover>NO_DISCOVER</discover></operation></operations></override></overrides></discovery_rule></discovery_rules><tags><tag><tag>class</tag><value>os</value></tag><tag><tag>target</tag><value>linux</value></tag></tags><macros><macro><macro>{$AGENT.TIMEOUT}</macro><value>3m</value><description>Timeout after which agent is considered unavailable. Works only for agents reachable from Zabbix server/proxy (passive mode).</description></macro><macro><macro>{$CPU.UTIL.CRIT}</macro><value>90</value></macro><macro><macro>{$IF.ERRORS.WARN}</macro><value>2</value></macro><macro><macro>{$IF.UTIL.MAX}</macro><value>90</value><description>This macro is used as a threshold in the interface utilization trigger.</description></macro><macro><macro>{$IFCONTROL}</macro><value>1</value></macro><macro><macro>{$KERNEL.MAXFILES.MIN}</macro><value>256</value></macro><macro><macro>{$KERNEL.MAXPROC.MIN}</macro><value>1024</value></macro><macro><macro>{$LOAD_AVG_PER_CPU.MAX.WARN}</macro><value>1.5</value><description>The CPU load per core is considered sustainable. If necessary, it can be tuned.</description></macro><macro><macro>{$MEMORY.AVAILABLE.MIN}</macro><value>20M</value><description>This macro is used as a threshold in the memory available trigger.</description></macro><macro><macro>{$MEMORY.UTIL.MAX}</macro><value>90</value><description>This macro is used as a threshold in the memory utilization trigger.</description></macro><macro><macro>{$NET.IF.IFNAME.MATCHES}</macro><value>^.*$</value></macro><macro><macro>{$NET.IF.IFNAME.NOT_MATCHES}</macro><value>(^Software Loopback Interface|^NULL[0-9.]*$|^[Ll]o[0-9.]*$|^[Ss]ystem$|^Nu[0-9.]*$|^veth[0-9A-z]+$|docker[0-9]+|br-[a-z0-9]{12})</value><description>It filters out `loopbacks`, `nulls`, `docker veth` links and `docker0 bridge` by default.</description></macro><macro><macro>{$SWAP.PFREE.MIN.WARN}</macro><value>50</value></macro><macro><macro>{$SYSTEM.FUZZYTIME.MAX}</macro><value>60</value></macro><macro><macro>{$VFS.DEV.DEVNAME.MATCHES}</macro><value>.+</value><description>This macro is used for a discovery of block devices. It can be overridden on host level or its linked template level.</description></macro><macro><macro>{$VFS.DEV.DEVNAME.NOT_MATCHES}</macro><value>^(loop[0-9]*|sd[a-z][0-9]+|nbd[0-9]+|sr[0-9]+|fd[0-9]+|dm-[0-9]+|ram[0-9]+|ploop[a-z0-9]+|md[0-9]*|hcp[0-9]*|zram[0-9]*)</value><description>This macro is used for a discovery of block devices. It can be overridden on host level or its linked template level.</description></macro><macro><macro>{$VFS.DEV.READ.AWAIT.WARN}</macro><value>20</value><description>The average response time (in ms) of disk read before the trigger would fire.</description></macro><macro><macro>{$VFS.DEV.WRITE.AWAIT.WARN}</macro><value>20</value><description>The average response time (in ms) of disk write before the trigger would fire.</description></macro><macro><macro>{$VFS.FS.FREE.MIN.CRIT}</macro><value>5G</value><description>The critical threshold for utilization of the filesystem.</description></macro><macro><macro>{$VFS.FS.FREE.MIN.WARN}</macro><value>10G</value><description>The warning threshold for utilization of the filesystem.</description></macro><macro><macro>{$VFS.FS.FSNAME.MATCHES}</macro><value>.+</value><description>This macro is used for discovery of the filesystems. It can be overridden on host level or its linked template level.</description></macro><macro><macro>{$VFS.FS.FSNAME.NOT_MATCHES}</macro><value>^(/dev|/sys|/run|/proc|.+/shm$)</value><description>This macro is used for discovery of the filesystems. It can be overridden on host level or its linked template level.</description></macro><macro><macro>{$VFS.FS.FSTYPE.MATCHES}</macro><value>^(btrfs|ext2|ext3|ext4|reiser|xfs|ffs|ufs|jfs|jfs2|vxfs|hfs|apfs|refs|ntfs|fat32|zfs)$</value><description>This macro is used for discovery of the filesystems. It can be overridden on host level or its linked template level.</description></macro><macro><macro>{$VFS.FS.FSTYPE.NOT_MATCHES}</macro><value>^\s$</value><description>This macro is used for discovery of the filesystems. It can be overridden on host level or its linked template level.</description></macro><macro><macro>{$VFS.FS.INODE.PFREE.MIN.CRIT}</macro><value>10</value><description>The critical threshold of the filesystem metadata utilization.</description></macro><macro><macro>{$VFS.FS.INODE.PFREE.MIN.WARN}</macro><value>20</value><description>The warning threshold of the filesystem metadata utilization.</description></macro><macro><macro>{$VFS.FS.PUSED.MAX.CRIT}</macro><value>90</value><description>The critical threshold of the filesystem utilization.</description></macro><macro><macro>{$VFS.FS.PUSED.MAX.WARN}</macro><value>80</value><description>The warning threshold of the filesystem utilization.</description></macro></macros><dashboards><dashboard><uuid>14aa11c326a54ec390d4c209d30cc741</uuid><name>Network interfaces</name><pages><page><name>Overview</name><widgets><widget><type>graphprototype</type><width>72</width><height>5</height><fields><field><type>INTEGER</type><name>columns</name><value>1</value></field><field><type>GRAPH_PROTOTYPE</type><name>graphid</name><value><host>Linux by Zabbix agent mbuz</host><name>Interface {#IFNAME}: Network traffic</name></value></field><field><type>STRING</type><name>reference</name><value>AAAYL</value></field><field><type>INTEGER</type><name>rows</name><value>1</value></field></fields></widget></widgets></page></pages></dashboard><dashboard><uuid>e9ca2f8e715f428b8edc0129aa0c79de</uuid><name>System performance</name><pages><page><widgets><widget><type>graph</type><width>36</width><height>5</height><fields><field><type>GRAPH</type><name>graphid</name><value><host>Linux by Zabbix agent mbuz</host><name>Linux: System load</name></value></field><field><type>STRING</type><name>reference</name><value>AAAYM</value></field></fields></widget><widget><type>graph</type><y>5</y><width>36</width><height>5</height><fields><field><type>GRAPH</type><name>graphid</name><value><host>Linux by Zabbix agent mbuz</host><name>Linux: Memory usage</name></value></field><field><type>STRING</type><name>reference</name><value>AAAYO</value></field></fields></widget><widget><type>graphprototype</type><y>10</y><width>72</width><height>5</height><fields><field><type>INTEGER</type><name>columns</name><value>1</value></field><field><type>GRAPH_PROTOTYPE</type><name>graphid</name><value><host>Linux by Zabbix agent mbuz</host><name>{#FSNAME}: Disk space usage</name></value></field><field><type>STRING</type><name>reference</name><value>AAAYQ</value></field><field><type>INTEGER</type><name>rows</name><value>1</value></field></fields></widget><widget><type>graphprototype</type><y>15</y><width>72</width><height>5</height><fields><field><type>INTEGER</type><name>columns</name><value>1</value></field><field><type>GRAPH_PROTOTYPE</type><name>graphid</name><value><host>Linux by Zabbix agent mbuz</host><name>{#DEVNAME}: Disk read/write rates</name></value></field><field><type>STRING</type><name>reference</name><value>AAAYR</value></field><field><type>INTEGER</type><name>rows</name><value>1</value></field></fields></widget><widget><type>graphprototype</type><y>20</y><width>72</width><height>5</height><fields><field><type>INTEGER</type><name>columns</name><value>1</value></field><field><type>GRAPH_PROTOTYPE</type><name>graphid</name><value><host>Linux by Zabbix agent mbuz</host><name>{#DEVNAME}: Disk average waiting time</name></value></field><field><type>STRING</type><name>reference</name><value>AAAYS</value></field><field><type>INTEGER</type><name>rows</name><value>1</value></field></fields></widget><widget><type>graphprototype</type><y>25</y><width>72</width><height>5</height><fields><field><type>INTEGER</type><name>columns</name><value>1</value></field><field><type>GRAPH_PROTOTYPE</type><name>graphid</name><value><host>Linux by Zabbix agent mbuz</host><name>{#DEVNAME}: Disk utilization and queue</name></value></field><field><type>STRING</type><name>reference</name><value>AAAYT</value></field><field><type>INTEGER</type><name>rows</name><value>1</value></field></fields></widget><widget><type>graphprototype</type><y>30</y><width>72</width><height>5</height><fields><field><type>INTEGER</type><name>columns</name><value>1</value></field><field><type>GRAPH_PROTOTYPE</type><name>graphid</name><value><host>Linux by Zabbix agent mbuz</host><name>Interface {#IFNAME}: Network traffic</name></value></field><field><type>STRING</type><name>reference</name><value>AAAYU</value></field><field><type>INTEGER</type><name>rows</name><value>1</value></field></fields></widget><widget><type>graph</type><x>36</x><width>36</width><height>5</height><fields><field><type>GRAPH</type><name>graphid</name><value><host>Linux by Zabbix agent mbuz</host><name>Linux: CPU usage</name></value></field><field><type>STRING</type><name>reference</name><value>AAAYN</value></field></fields></widget><widget><type>graph</type><x>36</x><y>5</y><width>36</width><height>5</height><fields><field><type>GRAPH</type><name>graphid</name><value><host>Linux by Zabbix agent mbuz</host><name>Linux: Swap usage</name></value></field><field><type>STRING</type><name>reference</name><value>AAAYP</value></field></fields></widget></widgets></page></pages></dashboard></dashboards><valuemaps><valuemap><uuid>8c048c6cca8248f2860c208e8db0f59e</uuid><name>ifOperStatus</name><mappings><mapping><value>0</value><newvalue>unknown</newvalue></mapping><mapping><value>1</value><newvalue>notpresent</newvalue></mapping><mapping><value>2</value><newvalue>down</newvalue></mapping><mapping><value>3</value><newvalue>lowerlayerdown</newvalue></mapping><mapping><value>4</value><newvalue>testing</newvalue></mapping><mapping><value>5</value><newvalue>dormant</newvalue></mapping><mapping><value>6</value><newvalue>up</newvalue></mapping></mappings></valuemap><valuemap><uuid>044df261808442a8af9e5cda0acaa6a5</uuid><name>Linux::Interface protocol types</name><mappings><mapping><value>0</value><newvalue>from KA9Q: NET/ROM pseudo</newvalue></mapping><mapping><value>1</value><newvalue>Ethernet</newvalue></mapping><mapping><value>2</value><newvalue>Experimental Ethernet</newvalue></mapping><mapping><value>3</value><newvalue>AX.25 Level 2</newvalue></mapping><mapping><value>4</value><newvalue>PROnet token ring</newvalue></mapping><mapping><value>5</value><newvalue>Chaosnet</newvalue></mapping><mapping><value>6</value><newvalue>IEEE 802.2 Ethernet/TR/TB</newvalue></mapping><mapping><value>7</value><newvalue>ARCnet</newvalue></mapping><mapping><value>8</value><newvalue>APPLEtalk</newvalue></mapping><mapping><value>15</value><newvalue>Frame Relay DLCI</newvalue></mapping><mapping><value>19</value><newvalue>ATM</newvalue></mapping><mapping><value>23</value><newvalue>Metricom STRIP (new IANA id)</newvalue></mapping><mapping><value>24</value><newvalue>IEEE 1394 IPv4 - RFC 2734</newvalue></mapping><mapping><value>27</value><newvalue>EUI-64</newvalue></mapping><mapping><value>32</value><newvalue>InfiniBand</newvalue></mapping><mapping><value>256</value><newvalue>ARPHRD_SLIP</newvalue></mapping><mapping><value>257</value><newvalue>ARPHRD_CSLIP</newvalue></mapping><mapping><value>258</value><newvalue>ARPHRD_SLIP6</newvalue></mapping><mapping><value>259</value><newvalue>ARPHRD_CSLIP6</newvalue></mapping><mapping><value>260</value><newvalue>Notional KISS type</newvalue></mapping><mapping><value>264</value><newvalue>ARPHRD_ADAPT</newvalue></mapping><mapping><value>270</value><newvalue>ARPHRD_ROSE</newvalue></mapping><mapping><value>271</value><newvalue>CCITT X.25</newvalue></mapping><mapping><value>272</value><newvalue>Boards with X.25 in firmware</newvalue></mapping><mapping><value>280</value><newvalue>Controller Area Network</newvalue></mapping><mapping><value>512</value><newvalue>ARPHRD_PPP</newvalue></mapping><mapping><value>513</value><newvalue>Cisco HDLC</newvalue></mapping><mapping><value>516</value><newvalue>LAPB</newvalue></mapping><mapping><value>517</value><newvalue>Digital's DDCMP protocol</newvalue></mapping><mapping><value>518</value><newvalue>Raw HDLC</newvalue></mapping><mapping><value>519</value><newvalue>Raw IP</newvalue></mapping><mapping><value>768</value><newvalue>IPIP tunnel</newvalue></mapping><mapping><value>769</value><newvalue>IP6IP6 tunnel</newvalue></mapping><mapping><value>770</value><newvalue>Frame Relay Access Device</newvalue></mapping><mapping><value>771</value><newvalue>SKIP vif</newvalue></mapping><mapping><value>772</value><newvalue>Loopback device</newvalue></mapping><mapping><value>773</value><newvalue>Localtalk device</newvalue></mapping><mapping><value>774</value><newvalue>Fiber Distributed Data Interface</newvalue></mapping><mapping><value>775</value><newvalue>AP1000 BIF</newvalue></mapping><mapping><value>776</value><newvalue>sit0 device - IPv6-in-IPv4</newvalue></mapping><mapping><value>777</value><newvalue>IP over DDP tunneller</newvalue></mapping><mapping><value>778</value><newvalue>GRE over IP</newvalue></mapping><mapping><value>779</value><newvalue>PIMSM register interface</newvalue></mapping><mapping><value>780</value><newvalue>High Performance Parallel Interface</newvalue></mapping><mapping><value>781</value><newvalue>Nexus 64Mbps Ash</newvalue></mapping><mapping><value>782</value><newvalue>Acorn Econet</newvalue></mapping><mapping><value>783</value><newvalue>Linux-IrDA</newvalue></mapping><mapping><value>784</value><newvalue>Point to point fibrechannel</newvalue></mapping><mapping><value>785</value><newvalue>Fibrechannel arbitrated loop</newvalue></mapping><mapping><value>786</value><newvalue>Fibrechannel public loop</newvalue></mapping><mapping><value>787</value><newvalue>Fibrechannel fabric</newvalue></mapping><mapping><value>800</value><newvalue>Magic type ident for TR</newvalue></mapping><mapping><value>801</value><newvalue>IEEE 802.11</newvalue></mapping><mapping><value>802</value><newvalue>IEEE 802.11 + Prism2 header</newvalue></mapping><mapping><value>803</value><newvalue>IEEE 802.11 + radiotap header</newvalue></mapping><mapping><value>804</value><newvalue>ARPHRD_IEEE802154</newvalue></mapping><mapping><value>805</value><newvalue>IEEE 802.15.4 network monitor</newvalue></mapping><mapping><value>820</value><newvalue>PhoNet media type</newvalue></mapping><mapping><value>821</value><newvalue>PhoNet pipe header</newvalue></mapping><mapping><value>822</value><newvalue>CAIF media type</newvalue></mapping><mapping><value>823</value><newvalue>GRE over IPv6</newvalue></mapping><mapping><value>824</value><newvalue>Netlink header</newvalue></mapping><mapping><value>825</value><newvalue>IPv6 over LoWPAN</newvalue></mapping><mapping><value>826</value><newvalue>Vsock monitor header</newvalue></mapping></mappings></valuemap><valuemap><uuid>5488e5d78d704b78aee60c60414ce0c3</uuid><name>zabbix.host.available</name><mappings><mapping><value>0</value><newvalue>not available</newvalue></mapping><mapping><value>1</value><newvalue>available</newvalue></mapping><mapping><value>2</value><newvalue>unknown</newvalue></mapping></mappings></valuemap><valuemap><uuid>64faba3a883241a88da8833970ac3ab0</uuid><name>Zabbix agent ping status</name><mappings><mapping><value>1</value><newvalue>Up</newvalue></mapping></mappings></valuemap></valuemaps></template></templates><triggers><trigger><uuid>ae5269e17d434927bfd6edc09a9a1f4d</uuid><expression>last(/Linux by Zabbix agent mbuz/proc.num)/last(/Linux by Zabbix agent mbuz/kernel.maxproc)*100&gt;80</expression><name>Linux: Getting closer to process limit</name><event_name>Linux: Getting closer to process limit (over 80% used)</event_name><opdata>{ITEM.LASTVALUE1} active, {ITEM.LASTVALUE2} limit.</opdata><priority>WARNING</priority><tags><tag><tag>scope</tag><value>performance</value></tag></tags></trigger><trigger><uuid>f49fc01c5ac945d59455563bdbcc6469</uuid><expression>max(/Linux by Zabbix agent mbuz/system.swap.size[,pfree],5m)&lt;{$SWAP.PFREE.MIN.WARN} and last(/Linux by Zabbix agent mbuz/system.swap.size[,total])&gt;0</expression><name>Linux: High swap space usage</name><event_name>Linux: High swap space usage (less than {$SWAP.PFREE.MIN.WARN}% free)</event_name><opdata>Free: {ITEM.LASTVALUE1}, total: {ITEM.LASTVALUE2}</opdata><priority>WARNING</priority><description>If there is no swap configured, this trigger is ignored.</description><dependencies><dependency><name>Linux: High memory utilization</name><expression>min(/Linux by Zabbix agent mbuz/vm.memory.utilization,5m)&gt;{$MEMORY.UTIL.MAX}</expression></dependency><dependency><name>Linux: Lack of available memory</name><expression>max(/Linux by Zabbix agent mbuz/vm.memory.size[available],5m)&lt;{$MEMORY.AVAILABLE.MIN} and last(/Linux by Zabbix agent mbuz/vm.memory.size[total])&gt;0</expression></dependency></dependencies><tags><tag><tag>scope</tag><value>capacity</value></tag></tags></trigger><trigger><uuid>686470cef97f48f6b017e9fc7a078afe</uuid><expression>max(/Linux by Zabbix agent mbuz/vm.memory.size[available],5m)&lt;{$MEMORY.AVAILABLE.MIN} and last(/Linux by Zabbix agent mbuz/vm.memory.size[total])&gt;0</expression><name>Linux: Lack of available memory</name><event_name>Linux: Lack of available memory (&lt;{$MEMORY.AVAILABLE.MIN} of {ITEM.VALUE2})</event_name><opdata>Available: {ITEM.LASTVALUE1}, total: {ITEM.LASTVALUE2}</opdata><priority>AVERAGE</priority><tags><tag><tag>scope</tag><value>capacity</value></tag><tag><tag>scope</tag><value>performance</value></tag></tags></trigger><trigger><uuid>695f0c352377409d95aca3fe76d1cae2</uuid><expression>min(/Linux by Zabbix agent mbuz/system.cpu.load[all,avg1],5m)/last(/Linux by Zabbix agent mbuz/system.cpu.num)&gt;{$LOAD_AVG_PER_CPU.MAX.WARN}
and last(/Linux by Zabbix agent mbuz/system.cpu.load[all,avg5])&gt;0
and last(/Linux by Zabbix agent mbuz/system.cpu.load[all,avg15])&gt;0</expression><name>Linux: Load average is too high</name><event_name>Linux: Load average is too high (per CPU load over {$LOAD_AVG_PER_CPU.MAX.WARN} for 5m)</event_name><opdata>Load averages(1m 5m 15m): ({ITEM.LASTVALUE1} {ITEM.LASTVALUE3} {ITEM.LASTVALUE4}), # of CPUs: {ITEM.LASTVALUE2}</opdata><priority>AVERAGE</priority><description>The load average per CPU is too high. The system may be slow to respond.</description><tags><tag><tag>scope</tag><value>capacity</value></tag><tag><tag>scope</tag><value>performance</value></tag></tags></trigger></triggers><graphs><graph><uuid>4a72646168d545c398c92e09c975a966</uuid><name>Linux: CPU jumps</name><graph_items><graph_item><color>199C0D</color><item><host>Linux by Zabbix agent mbuz</host><key>system.cpu.switches</key></item></graph_item><graph_item><sortorder>1</sortorder><color>F63100</color><item><host>Linux by Zabbix agent mbuz</host><key>system.cpu.intr</key></item></graph_item></graph_items></graph><graph><uuid>f217c30162b24c9190785fad1ec83b73</uuid><name>Linux: CPU usage</name><type>STACKED</type><ymin_type_1>FIXED</ymin_type_1><ymax_type_1>FIXED</ymax_type_1><graph_items><graph_item><color>199C0D</color><item><host>Linux by Zabbix agent mbuz</host><key>system.cpu.util[,system]</key></item></graph_item><graph_item><sortorder>1</sortorder><color>F63100</color><item><host>Linux by Zabbix agent mbuz</host><key>system.cpu.util[,user]</key></item></graph_item><graph_item><sortorder>2</sortorder><color>00611C</color><item><host>Linux by Zabbix agent mbuz</host><key>system.cpu.util[,nice]</key></item></graph_item><graph_item><sortorder>3</sortorder><color>F7941D</color><item><host>Linux by Zabbix agent mbuz</host><key>system.cpu.util[,iowait]</key></item></graph_item><graph_item><sortorder>4</sortorder><color>FC6EA3</color><item><host>Linux by Zabbix agent mbuz</host><key>system.cpu.util[,steal]</key></item></graph_item><graph_item><sortorder>5</sortorder><color>6C59DC</color><item><host>Linux by Zabbix agent mbuz</host><key>system.cpu.util[,interrupt]</key></item></graph_item><graph_item><sortorder>6</sortorder><color>C7A72D</color><item><host>Linux by Zabbix agent mbuz</host><key>system.cpu.util[,softirq]</key></item></graph_item><graph_item><sortorder>7</sortorder><color>BA2A5D</color><item><host>Linux by Zabbix agent mbuz</host><key>system.cpu.util[,guest]</key></item></graph_item><graph_item><sortorder>8</sortorder><color>F230E0</color><item><host>Linux by Zabbix agent mbuz</host><key>system.cpu.util[,guest_nice]</key></item></graph_item></graph_items></graph><graph><uuid>668ae470ea33444bb40e3b83b97659c3</uuid><name>Linux: CPU utilization</name><ymin_type_1>FIXED</ymin_type_1><ymax_type_1>FIXED</ymax_type_1><graph_items><graph_item><drawtype>GRADIENT_LINE</drawtype><color>199C0D</color><item><host>Linux by Zabbix agent mbuz</host><key>system.cpu.util</key></item></graph_item></graph_items></graph><graph><uuid>f260a63bc3b04c3b80b47f83bb05ed9c</uuid><name>Linux: Memory usage</name><ymin_type_1>FIXED</ymin_type_1><graph_items><graph_item><drawtype>BOLD_LINE</drawtype><color>199C0D</color><item><host>Linux by Zabbix agent mbuz</host><key>vm.memory.size[total]</key></item></graph_item><graph_item><sortorder>1</sortorder><drawtype>GRADIENT_LINE</drawtype><color>F63100</color><item><host>Linux by Zabbix agent mbuz</host><key>vm.memory.size[available]</key></item></graph_item></graph_items></graph><graph><uuid>bac7a8fb7e014696b54d262bf40e5b12</uuid><name>Linux: Memory utilization</name><ymin_type_1>FIXED</ymin_type_1><ymax_type_1>FIXED</ymax_type_1><graph_items><graph_item><drawtype>GRADIENT_LINE</drawtype><color>199C0D</color><item><host>Linux by Zabbix agent mbuz</host><key>vm.memory.utilization</key></item></graph_item></graph_items></graph><graph><uuid>fa49531c9c3d4087b2205bed6ed0469f</uuid><name>Linux: Processes</name><graph_items><graph_item><color>199C0D</color><item><host>Linux by Zabbix agent mbuz</host><key>proc.num</key></item></graph_item><graph_item><sortorder>1</sortorder><color>F63100</color><item><host>Linux by Zabbix agent mbuz</host><key>proc.num[,,run]</key></item></graph_item></graph_items></graph><graph><uuid>1ca6e2d883114853bd402110c3fd211e</uuid><name>Linux: Swap usage</name><graph_items><graph_item><color>199C0D</color><item><host>Linux by Zabbix agent mbuz</host><key>system.swap.size[,free]</key></item></graph_item><graph_item><sortorder>1</sortorder><color>F63100</color><item><host>Linux by Zabbix agent mbuz</host><key>system.swap.size[,total]</key></item></graph_item></graph_items></graph><graph><uuid>1b8cc9470a5040d79090a3e5dfcb0a76</uuid><name>Linux: System load</name><ymin_type_1>FIXED</ymin_type_1><graph_items><graph_item><color>199C0D</color><item><host>Linux by Zabbix agent mbuz</host><key>system.cpu.load[all,avg1]</key></item></graph_item><graph_item><sortorder>1</sortorder><color>F63100</color><item><host>Linux by Zabbix agent mbuz</host><key>system.cpu.load[all,avg5]</key></item></graph_item><graph_item><sortorder>2</sortorder><color>00611C</color><item><host>Linux by Zabbix agent mbuz</host><key>system.cpu.load[all,avg15]</key></item></graph_item><graph_item><sortorder>3</sortorder><color>F7941D</color><yaxisside>RIGHT</yaxisside><item><host>Linux by Zabbix agent mbuz</host><key>system.cpu.num</key></item></graph_item></graph_items></graph></graphs></zabbix_export>
