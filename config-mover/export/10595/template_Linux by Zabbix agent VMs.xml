<?xml version="1.0" encoding="UTF-8"?>
<zabbix_export><version>7.4</version><template_groups><template_group><uuid>846977d1dfed4968bc5f8bdb363285bc</uuid><name>Templates/Operating systems</name></template_group></template_groups><templates><template><uuid>ca901cc056ae481e8b9217f3b116c80f</uuid><template>Linux by Zabbix agent VMs</template><name>Linux by Zabbix agent VMs</name><description>Official Linux template. Requires agent of Zabbix 7.0 or newer.
      
You can discuss this template or leave feedback on our forum https://www.zabbix.com/forum/zabbix-suggestions-and-feedback/387225-discussion-thread-for-official-zabbix-template-for-linux

Generated by official Zabbix template tool &quot;Templator&quot; 2.0.0</description><groups><group><name>Templates/Operating systems</name></group></groups><items><item><uuid>014a9150c2824d2f83f724ee9ee42e57</uuid><name>Linux: Host name of Zabbix agent running</name><key>agent.hostname</key><delay>1h</delay><history>7d</history><value_type>CHAR</value_type><preprocessing><step><type>DISCARD_UNCHANGED_HEARTBEAT</type><parameters><parameter>1d</parameter></parameters></step></preprocessing><tags><tag><tag>component</tag><value>system</value></tag></tags></item><item><uuid>b7c6465f1e334c4cb8c290fc749d2d3f</uuid><name>Linux: Zabbix agent ping</name><key>agent.ping</key><history>7d</history><description>The agent always returns 1 for this item. It could be used in combination with nodata() for availability check.</description><valuemap><name>Zabbix agent ping status</name></valuemap><tags><tag><tag>component</tag><value>system</value></tag></tags></item><item><uuid>73162ef4d2bd43a2b5e01ae6fab4b310</uuid><name>Linux: Version of Zabbix agent running</name><key>agent.version</key><delay>1h</delay><history>7d</history><value_type>CHAR</value_type><preprocessing><step><type>DISCARD_UNCHANGED_HEARTBEAT</type><parameters><parameter>1d</parameter></parameters></step></preprocessing><tags><tag><tag>component</tag><value>application</value></tag></tags></item><item><uuid>11650dabe77c4a87bb5a5ae02787cb60</uuid><name>Linux: Maximum number of open file descriptors</name><key>kernel.maxfiles</key><delay>1h</delay><history>7d</history><description>It could be increased by using `sysctl` utility or modifying the file `/etc/sysctl.conf`.</description><preprocessing><step><type>DISCARD_UNCHANGED_HEARTBEAT</type><parameters><parameter>1d</parameter></parameters></step></preprocessing><tags><tag><tag>component</tag><value>system</value></tag></tags><triggers><trigger><uuid>a8b1a29c0aab462e85748cf3135c7ece</uuid><expression>last(/Linux by Zabbix agent VMs/kernel.maxfiles)&lt;{$KERNEL.MAXFILES.MIN}</expression><name>Linux: Configured max number of open filedescriptors is too low</name><event_name>Linux: Configured max number of open filedescriptors is too low (&lt; {$KERNEL.MAXFILES.MIN})</event_name><priority>INFO</priority><tags><tag><tag>scope</tag><value>performance</value></tag></tags></trigger></triggers></item><item><uuid>ab6e77891358451790aba0420d84a3d1</uuid><name>Linux: Maximum number of processes</name><key>kernel.maxproc</key><delay>1h</delay><history>7d</history><description>It could be increased by using `sysctl` utility or modifying the file `/etc/sysctl.conf`.</description><preprocessing><step><type>DISCARD_UNCHANGED_HEARTBEAT</type><parameters><parameter>1d</parameter></parameters></step></preprocessing><tags><tag><tag>component</tag><value>system</value></tag></tags><triggers><trigger><uuid>7f902ee8fbe44a5a9ee8bfed438234fb</uuid><expression>last(/Linux by Zabbix agent VMs/kernel.maxproc)&lt;{$KERNEL.MAXPROC.MIN}</expression><name>Linux: Configured max number of processes is too low</name><event_name>Linux: Configured max number of processes is too low (&lt; {$KERNEL.MAXPROC.MIN})</event_name><priority>INFO</priority><dependencies><dependency><name>Linux: Getting closer to process limit</name><expression>last(/Linux by Zabbix agent VMs/proc.num)/last(/Linux by Zabbix agent VMs/kernel.maxproc)*100&gt;80</expression></dependency></dependencies><tags><tag><tag>scope</tag><value>performance</value></tag></tags></trigger></triggers></item><item><uuid>3ac5456818c24b0a8dcd8e56259d652a</uuid><name>Linux: Number of processes</name><key>proc.num</key><history>7d</history><tags><tag><tag>component</tag><value>system</value></tag></tags></item><item><uuid>a68a0f02ed2d455aa2be952756e1d9e6</uuid><name>Linux: Number of running processes</name><key>proc.num[,,run]</key><history>7d</history><tags><tag><tag>component</tag><value>system</value></tag></tags></item><item><uuid>21c96e7256404cadaff5706be3ccbd45</uuid><name>Linux: System boot time</name><key>system.boottime</key><delay>15m</delay><history>7d</history><units>unixtime</units><preprocessing><step><type>DISCARD_UNCHANGED_HEARTBEAT</type><parameters><parameter>1h</parameter></parameters></step></preprocessing><tags><tag><tag>component</tag><value>system</value></tag></tags></item><item><uuid>b7046b7cdc974ac8af5d476c21bd4e5e</uuid><name>Linux: Interrupts per second</name><key>system.cpu.intr</key><history>7d</history><value_type>FLOAT</value_type><preprocessing><step><type>CHANGE_PER_SECOND</type></step></preprocessing><tags><tag><tag>component</tag><value>cpu</value></tag></tags></item><item><uuid>bb784c33f52d41fa8e026857ff533191</uuid><name>Linux: Load average (1m avg)</name><key>system.cpu.load[all,avg1]</key><history>7d</history><value_type>FLOAT</value_type><tags><tag><tag>component</tag><value>cpu</value></tag></tags></item><item><uuid>3b3261f119c74c3fa353cc567956b969</uuid><name>Linux: Load average (5m avg)</name><key>system.cpu.load[all,avg5]</key><history>7d</history><value_type>FLOAT</value_type><tags><tag><tag>component</tag><value>cpu</value></tag></tags></item><item><uuid>e950e684a2d5496ba7efe54721569ef8</uuid><name>Linux: Load average (15m avg)</name><key>system.cpu.load[all,avg15]</key><history>7d</history><value_type>FLOAT</value_type><tags><tag><tag>component</tag><value>cpu</value></tag></tags></item><item><uuid>eb6c6c4b5ed945a4a3857db40f80f796</uuid><name>Linux: Number of CPUs</name><key>system.cpu.num</key><history>7d</history><preprocessing><step><type>DISCARD_UNCHANGED_HEARTBEAT</type><parameters><parameter>1d</parameter></parameters></step></preprocessing><tags><tag><tag>component</tag><value>cpu</value></tag></tags></item><item><uuid>ca12eed049b7405186eb51eb0be479ff</uuid><name>Linux: Context switches per second</name><key>system.cpu.switches</key><history>7d</history><value_type>FLOAT</value_type><preprocessing><step><type>CHANGE_PER_SECOND</type></step></preprocessing><tags><tag><tag>component</tag><value>cpu</value></tag></tags></item><item><uuid>0a1842cd12fa41738d6ed7122a57fb7d</uuid><name>Linux: CPU utilization</name><type>DEPENDENT</type><key>system.cpu.util</key><history>7d</history><value_type>FLOAT</value_type><units>%</units><description>The CPU utilization expressed in %.</description><preprocessing><step><type>JAVASCRIPT</type><parameters><parameter>//Calculate utilization
return (100 - value)</parameter></parameters></step></preprocessing><master_item><key>system.cpu.util[,idle]</key></master_item><tags><tag><tag>component</tag><value>cpu</value></tag></tags><triggers><trigger><uuid>a941259755ec49b3a86d3632938c4107</uuid><expression>min(/Linux by Zabbix agent VMs/system.cpu.util,5m)&gt;{$CPU.UTIL.CRIT}</expression><name>Linux: High CPU utilization</name><event_name>Linux: High CPU utilization (over {$CPU.UTIL.CRIT}% for 5m)</event_name><opdata>Current utilization: {ITEM.LASTVALUE1}</opdata><priority>WARNING</priority><description>The CPU utilization is too high. The system might be slow to respond.</description><dependencies><dependency><name>Linux: Load average is too high</name><expression>min(/Linux by Zabbix agent VMs/system.cpu.load[all,avg1],5m)/last(/Linux by Zabbix agent VMs/system.cpu.num)&gt;{$LOAD_AVG_PER_CPU.MAX.WARN}
and last(/Linux by Zabbix agent VMs/system.cpu.load[all,avg5])&gt;0
and last(/Linux by Zabbix agent VMs/system.cpu.load[all,avg15])&gt;0</expression></dependency></dependencies><tags><tag><tag>scope</tag><value>performance</value></tag></tags></trigger></triggers></item><item><uuid>c653213e25eb44fbacb8bea21a9885b2</uuid><name>Linux: CPU guest time</name><key>system.cpu.util[,guest]</key><history>7d</history><value_type>FLOAT</value_type><units>%</units><description>Guest time - the time spent on running a virtual CPU for a guest operating system.</description><tags><tag><tag>component</tag><value>cpu</value></tag></tags></item><item><uuid>ab10aaf33016465b9801a7a1b87701a0</uuid><name>Linux: CPU guest nice time</name><key>system.cpu.util[,guest_nice]</key><history>7d</history><value_type>FLOAT</value_type><units>%</units><description>The time spent on running a niced guest (a virtual CPU for guest operating systems under the control of the Linux kernel).</description><tags><tag><tag>component</tag><value>cpu</value></tag></tags></item><item><uuid>c42fbf29963e45199b9e6697a4c61ea7</uuid><name>Linux: CPU idle time</name><key>system.cpu.util[,idle]</key><history>7d</history><value_type>FLOAT</value_type><units>%</units><description>The time the CPU has spent doing nothing.</description><tags><tag><tag>component</tag><value>cpu</value></tag></tags></item><item><uuid>c1875931944d4db0adccb9833361396c</uuid><name>Linux: CPU interrupt time</name><key>system.cpu.util[,interrupt]</key><history>7d</history><value_type>FLOAT</value_type><units>%</units><description>The amount of time the CPU has been servicing hardware interrupts.</description><tags><tag><tag>component</tag><value>cpu</value></tag></tags></item><item><uuid>f65b9106f1254673af8c6542a69512ba</uuid><name>Linux: CPU iowait time</name><key>system.cpu.util[,iowait]</key><history>7d</history><value_type>FLOAT</value_type><units>%</units><description>The amount of time the CPU has been waiting for I/O to complete.</description><tags><tag><tag>component</tag><value>cpu</value></tag></tags></item><item><uuid>ca5894801f5a4105a405b552cc5a3340</uuid><name>Linux: CPU nice time</name><key>system.cpu.util[,nice]</key><history>7d</history><value_type>FLOAT</value_type><units>%</units><description>The time the CPU has spent running users' processes that have been niced.</description><tags><tag><tag>component</tag><value>cpu</value></tag></tags></item><item><uuid>3fe58b6223f846bd881b5ec5c230aede</uuid><name>Linux: CPU softirq time</name><key>system.cpu.util[,softirq]</key><history>7d</history><value_type>FLOAT</value_type><units>%</units><description>The amount of time the CPU has been servicing software interrupts.</description><tags><tag><tag>component</tag><value>cpu</value></tag></tags></item><item><uuid>3ebc44a8f8dd49339c18eb88cc987777</uuid><name>Linux: CPU steal time</name><key>system.cpu.util[,steal]</key><history>7d</history><value_type>FLOAT</value_type><units>%</units><description>The amount of &quot;stolen&quot; CPU from this virtual machine by the hypervisor for other tasks, such as running another virtual machine.</description><tags><tag><tag>component</tag><value>cpu</value></tag></tags></item><item><uuid>1c43a451ec0445459978cc4d012946dd</uuid><name>Linux: CPU system time</name><key>system.cpu.util[,system]</key><history>7d</history><value_type>FLOAT</value_type><units>%</units><description>The time the CPU has spent running the kernel and its processes.</description><tags><tag><tag>component</tag><value>cpu</value></tag></tags></item><item><uuid>9963a8f7fa3f40bdb93ea856f3775356</uuid><name>Linux: CPU user time</name><key>system.cpu.util[,user]</key><history>7d</history><value_type>FLOAT</value_type><units>%</units><description>The time the CPU has spent running users' processes that are not niced.</description><tags><tag><tag>component</tag><value>cpu</value></tag></tags></item><item><uuid>59b33d2c9ee247f49ae0005729ee1e84</uuid><name>Linux: System name</name><key>system.hostname</key><delay>1h</delay><history>2w</history><value_type>CHAR</value_type><description>The host name of the system.</description><inventory_link>NAME</inventory_link><preprocessing><step><type>DISCARD_UNCHANGED_HEARTBEAT</type><parameters><parameter>12h</parameter></parameters></step></preprocessing><tags><tag><tag>component</tag><value>system</value></tag></tags><triggers><trigger><uuid>8852f6fe87c6469d8c0f779a150766f9</uuid><expression>change(/Linux by Zabbix agent VMs/system.hostname) and length(last(/Linux by Zabbix agent VMs/system.hostname))&gt;0</expression><name>Linux: System name has changed</name><event_name>Linux: System name has changed (new name: {ITEM.VALUE})</event_name><priority>INFO</priority><description>The name of the system has changed. Acknowledge to close the problem manually.</description><manual_close>YES</manual_close><tags><tag><tag>scope</tag><value>notice</value></tag><tag><tag>scope</tag><value>security</value></tag></tags></trigger></triggers></item><item><uuid>8cb64612a75a421ba248a0872da505b8</uuid><name>Linux: System local time</name><key>system.localtime</key><history>7d</history><units>unixtime</units><description>The local system time of the host.</description><tags><tag><tag>component</tag><value>system</value></tag></tags><triggers><trigger><uuid>fcc535754bf04c2e88f6052681deb8dc</uuid><expression>fuzzytime(/Linux by Zabbix agent VMs/system.localtime,{$SYSTEM.FUZZYTIME.MAX})=0</expression><name>Linux: System time is out of sync</name><event_name>Linux: System time is out of sync (diff with Zabbix server &gt; {$SYSTEM.FUZZYTIME.MAX}s)</event_name><priority>WARNING</priority><description>The host's system time is different from Zabbix server time.</description><manual_close>YES</manual_close><tags><tag><tag>scope</tag><value>availability</value></tag><tag><tag>scope</tag><value>performance</value></tag></tags></trigger></triggers></item><item><uuid>1bfb149372e84e86a16f9a25956ff219</uuid><name>Linux: Operating system architecture</name><key>system.sw.arch</key><delay>1h</delay><history>2w</history><value_type>CHAR</value_type><description>The architecture of the operating system.</description><preprocessing><step><type>DISCARD_UNCHANGED_HEARTBEAT</type><parameters><parameter>1d</parameter></parameters></step></preprocessing><tags><tag><tag>component</tag><value>os</value></tag></tags></item><item><uuid>907b28cc155941a08f174a7ef71d8b51</uuid><name>Linux: Operating system</name><key>system.sw.os</key><delay>1h</delay><history>2w</history><value_type>CHAR</value_type><inventory_link>OS</inventory_link><preprocessing><step><type>DISCARD_UNCHANGED_HEARTBEAT</type><parameters><parameter>1d</parameter></parameters></step></preprocessing><tags><tag><tag>component</tag><value>os</value></tag></tags></item><item><uuid>db01d8de4cd346d6b9f7ad37704a4228</uuid><name>Linux: Number of installed packages</name><key>system.sw.packages.get</key><delay>1h</delay><history>7d</history><preprocessing><step><type>JSONPATH</type><parameters><parameter>$.length()</parameter></parameters></step><step><type>DISCARD_UNCHANGED_HEARTBEAT</type><parameters><parameter>12h</parameter></parameters></step></preprocessing><tags><tag><tag>component</tag><value>os</value></tag></tags><triggers><trigger><uuid>eb9855d3b37a435fa79a80f188939cd2</uuid><expression>change(/Linux by Zabbix agent VMs/system.sw.packages.get)&lt;&gt;0</expression><name>Linux: Number of installed packages has been changed</name><status>DISABLED</status><priority>WARNING</priority><manual_close>YES</manual_close><tags><tag><tag>scope</tag><value>notice</value></tag></tags></trigger></triggers></item><item><uuid>e565677c8878430ca40a15d46030b397</uuid><name>Linux: Free swap space</name><key>system.swap.size[,free]</key><history>7d</history><units>B</units><description>The free space of the swap volume/file expressed in bytes.</description><tags><tag><tag>component</tag><value>memory</value></tag><tag><tag>component</tag><value>storage</value></tag></tags></item><item><uuid>a6b9b54ea87b48f4a1f4e830e13018ed</uuid><name>Linux: Free swap space in %</name><key>system.swap.size[,pfree]</key><history>7d</history><value_type>FLOAT</value_type><units>%</units><description>The free space of the swap volume/file expressed in %.</description><tags><tag><tag>component</tag><value>memory</value></tag><tag><tag>component</tag><value>storage</value></tag></tags></item><item><uuid>6583669ba8be4c8c92d8dd7922030354</uuid><name>Linux: Total swap space</name><key>system.swap.size[,total]</key><history>7d</history><units>B</units><description>The total space of the swap volume/file expressed in bytes.</description><tags><tag><tag>component</tag><value>memory</value></tag><tag><tag>component</tag><value>storage</value></tag></tags></item><item><uuid>bc808d17ff60463a89cb493e83ca17c9</uuid><name>Linux: System description</name><key>system.uname</key><delay>15m</delay><history>2w</history><value_type>CHAR</value_type><description>The information as normally returned by `uname -a`.</description><preprocessing><step><type>DISCARD_UNCHANGED_HEARTBEAT</type><parameters><parameter>12h</parameter></parameters></step></preprocessing><tags><tag><tag>component</tag><value>system</value></tag></tags></item><item><uuid>c82ad50ae6d949eeb698c6430bdd3c5e</uuid><name>Linux: System uptime</name><key>system.uptime</key><delay>30s</delay><history>2w</history><trends>0</trends><units>uptime</units><description>The system uptime expressed in the following format: &quot;N days, hh:mm:ss&quot;.</description><tags><tag><tag>component</tag><value>system</value></tag></tags><triggers><trigger><uuid>3f6d782fa451486ebbde0d8a265aaffd</uuid><expression>last(/Linux by Zabbix agent VMs/system.uptime)&lt;10m</expression><name>Linux: {HOST.NAME} has been restarted</name><event_name>Linux: {HOST.NAME} has been restarted (uptime &lt; 10m)</event_name><priority>WARNING</priority><description>The host uptime is less than 10 minutes.</description><manual_close>YES</manual_close><tags><tag><tag>scope</tag><value>notice</value></tag></tags></trigger></triggers></item><item><uuid>f4f5849aee46498dba36226e9791aee4</uuid><name>Linux: Number of logged in users</name><key>system.users.num</key><history>7d</history><description>The number of users who are currently logged in.</description><tags><tag><tag>component</tag><value>environment</value></tag></tags></item><item><uuid>42dff0d26bcb4321adfb3bbc2bf38fcf</uuid><name>Linux: Checksum of /etc/passwd</name><key>vfs.file.cksum[/etc/passwd,sha256]</key><delay>15m</delay><history>7d</history><value_type>CHAR</value_type><preprocessing><step><type>DISCARD_UNCHANGED_HEARTBEAT</type><parameters><parameter>1h</parameter></parameters></step></preprocessing><tags><tag><tag>component</tag><value>security</value></tag></tags></item><item><uuid>b1c4324fbb22471d8adfe29f9f6afdb3</uuid><name>Linux: Get filesystems</name><key>vfs.fs.get</key><delay>10m</delay><history>0</history><value_type>TEXT</value_type><description>The `vfs.fs.get` key acquires raw information set about the file systems. Later to be extracted by preprocessing in dependent items.</description><tags><tag><tag>component</tag><value>raw</value></tag></tags></item><item><uuid>7be03ff8c9c540bb97513214619f65df</uuid><name>Linux: Available memory</name><key>vm.memory.size[available]</key><history>7d</history><units>B</units><description>The available memory:
- in Linux - available = free + buffers + cache;
- on other platforms calculation may vary.

See also Appendixes in Zabbix Documentation about parameters of the `vm.memory.size` item.</description><tags><tag><tag>component</tag><value>memory</value></tag></tags></item><item><uuid>702212a31f5847d4bbb185a1cd1ea07b</uuid><name>Linux: Available memory in %</name><key>vm.memory.size[pavailable]</key><history>7d</history><value_type>FLOAT</value_type><units>%</units><description>The available memory as percentage of the total. See also Appendixes in Zabbix Documentation about parameters of the `vm.memory.size` item.</description><tags><tag><tag>component</tag><value>memory</value></tag></tags></item><item><uuid>b575677fe97f435796b2fa5fb70a85ff</uuid><name>Linux: Total memory</name><key>vm.memory.size[total]</key><history>7d</history><units>B</units><description>The total memory expressed in bytes.</description><tags><tag><tag>component</tag><value>memory</value></tag></tags></item><item><uuid>0f6b3e603cd34293bd62e22e3443abe2</uuid><name>Linux: Memory utilization</name><type>DEPENDENT</type><key>vm.memory.utilization</key><history>7d</history><value_type>FLOAT</value_type><units>%</units><description>The percentage of used memory is calculated as `100-pavailable`.</description><preprocessing><step><type>JAVASCRIPT</type><parameters><parameter>return (100-value);</parameter></parameters></step></preprocessing><master_item><key>vm.memory.size[pavailable]</key></master_item><tags><tag><tag>component</tag><value>memory</value></tag></tags></item><item><uuid>be82a26c400c4f8895076a1635ec59ad</uuid><name>Linux: Zabbix agent availability</name><type>INTERNAL</type><key>zabbix[host,agent,available]</key><history>7d</history><description>Monitoring the availability status of the agent.</description><valuemap><name>zabbix.host.available</name></valuemap><tags><tag><tag>component</tag><value>system</value></tag></tags><triggers><trigger><uuid>c186b0cf69004546b92ce9227173eed4</uuid><expression>max(/Linux by Zabbix agent VMs/zabbix[host,agent,available],{$AGENT.TIMEOUT})=0</expression><name>Linux: Zabbix agent is not available</name><event_name>Linux: Zabbix agent is not available (for {$AGENT.TIMEOUT})</event_name><priority>AVERAGE</priority><description>For passive only agents, host availability is used with {$AGENT.TIMEOUT} as time threshold.</description><manual_close>YES</manual_close><tags><tag><tag>scope</tag><value>availability</value></tag></tags></trigger></triggers></item></items><discovery_rules><discovery_rule><uuid>f293d862a5cb4b708f1f2f2562a0dd1d</uuid><name>Network interface discovery</name><key>net.if.discovery</key><delay>1h</delay><filter><evaltype>AND</evaltype><conditions><condition><macro>{#IFNAME}</macro><value>{$NET.IF.IFNAME.MATCHES}</value></condition><condition><macro>{#IFNAME}</macro><value>{$NET.IF.IFNAME.NOT_MATCHES}</value><operator>NOT_MATCHES_REGEX</operator></condition></conditions></filter><lifetime>1d</lifetime><enabled_lifetime_type>DISABLE_AFTER</enabled_lifetime_type><enabled_lifetime>1h</enabled_lifetime><description>The discovery of network interfaces.</description><item_prototypes><item_prototype><uuid>f588e170c8104aabb42261fc864108dc</uuid><name>Interface {#IFNAME}: Inbound packets discarded</name><key>net.if.in[&quot;{#IFNAME}&quot;,dropped]</key><delay>3m</delay><history>7d</history><preprocessing><step><type>CHANGE_PER_SECOND</type></step></preprocessing><tags><tag><tag>component</tag><value>network</value></tag><tag><tag>interface</tag><value>{#IFNAME}</value></tag></tags></item_prototype><item_prototype><uuid>2ed643e6e4db4112b2d5f9b3647153ae</uuid><name>Interface {#IFNAME}: Inbound packets with errors</name><key>net.if.in[&quot;{#IFNAME}&quot;,errors]</key><delay>3m</delay><history>7d</history><preprocessing><step><type>CHANGE_PER_SECOND</type></step></preprocessing><tags><tag><tag>component</tag><value>network</value></tag><tag><tag>interface</tag><value>{#IFNAME}</value></tag></tags></item_prototype><item_prototype><uuid>3d75c3d964734aa7b2fd1e0887b7713b</uuid><name>Interface {#IFNAME}: Bits received</name><key>net.if.in[&quot;{#IFNAME}&quot;]</key><delay>3m</delay><history>7d</history><units>bps</units><preprocessing><step><type>CHANGE_PER_SECOND</type></step><step><type>MULTIPLIER</type><parameters><parameter>8</parameter></parameters></step></preprocessing><tags><tag><tag>component</tag><value>network</value></tag><tag><tag>interface</tag><value>{#IFNAME}</value></tag></tags></item_prototype><item_prototype><uuid>b1281dba1e574b92849a4ed284204b88</uuid><name>Interface {#IFNAME}: Outbound packets discarded</name><key>net.if.out[&quot;{#IFNAME}&quot;,dropped]</key><delay>3m</delay><history>7d</history><preprocessing><step><type>CHANGE_PER_SECOND</type></step></preprocessing><tags><tag><tag>component</tag><value>network</value></tag><tag><tag>interface</tag><value>{#IFNAME}</value></tag></tags></item_prototype><item_prototype><uuid>2abfaf1038d149e888d2f580a9ed544a</uuid><name>Interface {#IFNAME}: Outbound packets with errors</name><key>net.if.out[&quot;{#IFNAME}&quot;,errors]</key><delay>3m</delay><history>7d</history><preprocessing><step><type>CHANGE_PER_SECOND</type></step></preprocessing><tags><tag><tag>component</tag><value>network</value></tag><tag><tag>interface</tag><value>{#IFNAME}</value></tag></tags></item_prototype><item_prototype><uuid>5fa93089218c4f3f8d78060396ec83fc</uuid><name>Interface {#IFNAME}: Bits sent</name><key>net.if.out[&quot;{#IFNAME}&quot;]</key><delay>3m</delay><history>7d</history><units>bps</units><preprocessing><step><type>CHANGE_PER_SECOND</type></step><step><type>MULTIPLIER</type><parameters><parameter>8</parameter></parameters></step></preprocessing><tags><tag><tag>component</tag><value>network</value></tag><tag><tag>interface</tag><value>{#IFNAME}</value></tag></tags></item_prototype><item_prototype><uuid>fee3ee92def443d4be201223725d34aa</uuid><name>Interface {#IFNAME}: Operational status</name><key>vfs.file.contents[&quot;/sys/class/net/{#IFNAME}/operstate&quot;]</key><history>7d</history><trends>0</trends><description>Reference: https://www.kernel.org/doc/Documentation/networking/operstates.txt</description><valuemap><name>ifOperStatus</name></valuemap><preprocessing><step><type>JAVASCRIPT</type><parameters><parameter>var newvalue;
switch(value) {
  case &quot;unknown&quot;:
    newvalue = 0;
    break;
  case &quot;notpresent&quot;:
    newvalue = 1;
    break;
  case &quot;down&quot;:
    newvalue = 2;
    break;
  case &quot;lowerlayerdown&quot;:
    newvalue = 3;
    break;
  case &quot;testing&quot;:
    newvalue = 4;
    break;
  case &quot;dormant&quot;:
    newvalue = 5;
    break;
  case &quot;up&quot;:
    newvalue = 6;
    break;  default:
    newvalue = &quot;Problem parsing interface operstate in JS&quot;;
}
return newvalue;</parameter></parameters></step></preprocessing><tags><tag><tag>component</tag><value>network</value></tag><tag><tag>interface</tag><value>{#IFNAME}</value></tag></tags><trigger_prototypes><trigger_prototype><uuid>438880f2089846ffa2e057dd6369c37b</uuid><expression>{$IFCONTROL:&quot;{#IFNAME}&quot;}=1 and last(/Linux by Zabbix agent VMs/vfs.file.contents[&quot;/sys/class/net/{#IFNAME}/operstate&quot;])=2 and (last(/Linux by Zabbix agent VMs/vfs.file.contents[&quot;/sys/class/net/{#IFNAME}/operstate&quot;],#1)&lt;&gt;last(/Linux by Zabbix agent VMs/vfs.file.contents[&quot;/sys/class/net/{#IFNAME}/operstate&quot;],#2))</expression><recovery_mode>RECOVERY_EXPRESSION</recovery_mode><recovery_expression>last(/Linux by Zabbix agent VMs/vfs.file.contents[&quot;/sys/class/net/{#IFNAME}/operstate&quot;])&lt;&gt;2 or {$IFCONTROL:&quot;{#IFNAME}&quot;}=0</recovery_expression><name>Interface {#IFNAME}: Link down</name><opdata>Current state: {ITEM.LASTVALUE1}</opdata><priority>AVERAGE</priority><description>This trigger expression works as follows:
1. It can be triggered if the operations status is down.
2. `{$IFCONTROL:&quot;{#IFNAME}&quot;}=1` - a user can redefine context macro to value - 0. That marks this interface as not important. No new trigger will be fired if this interface is down.
3. `{TEMPLATE_NAME:METRIC.diff()}=1` - the trigger fires only if the operational status was up to (1) sometime before (so, do not fire for the 'eternal off' interfaces.)

WARNING: if closed manually - it will not fire again on the next poll, because of .diff.</description><manual_close>YES</manual_close><tags><tag><tag>scope</tag><value>availability</value></tag></tags></trigger_prototype></trigger_prototypes></item_prototype><item_prototype><uuid>e8eaf650c26948169947e1c5d2752c84</uuid><name>Interface {#IFNAME}: Speed</name><key>vfs.file.contents[&quot;/sys/class/net/{#IFNAME}/speed&quot;]</key><delay>5m</delay><history>7d</history><trends>0</trends><units>bps</units><description>It indicates the latest or current speed value of the interface. The value is an integer representing the link speed expressed in bits/sec.
This attribute is only valid for the interfaces that implement the ethtool `get_link_ksettings` method (mostly Ethernet).

Reference: https://www.kernel.org/doc/Documentation/ABI/testing/sysfs-class-net</description><preprocessing><step><type>MULTIPLIER</type><parameters><parameter>1000000</parameter></parameters></step><step><type>DISCARD_UNCHANGED_HEARTBEAT</type><parameters><parameter>1h</parameter></parameters></step></preprocessing><tags><tag><tag>component</tag><value>network</value></tag><tag><tag>interface</tag><value>{#IFNAME}</value></tag></tags></item_prototype><item_prototype><uuid>bdd31007354349bc8a4d758573c2017f</uuid><name>Interface {#IFNAME}: Interface type</name><key>vfs.file.contents[&quot;/sys/class/net/{#IFNAME}/type&quot;]</key><delay>1h</delay><history>7d</history><trends>0</trends><description>It indicates the interface protocol type as a decimal value.
See `include/uapi/linux/if_arp.h` for all possible values.
Reference: https://www.kernel.org/doc/Documentation/ABI/testing/sysfs-class-net</description><valuemap><name>Linux::Interface protocol types</name></valuemap><preprocessing><step><type>DISCARD_UNCHANGED_HEARTBEAT</type><parameters><parameter>1d</parameter></parameters></step></preprocessing><tags><tag><tag>component</tag><value>network</value></tag><tag><tag>interface</tag><value>{#IFNAME}</value></tag></tags></item_prototype></item_prototypes><trigger_prototypes><trigger_prototype><uuid>d4316fd2a83b45a5bc7611d1bbf7a09e</uuid><expression>change(/Linux by Zabbix agent VMs/vfs.file.contents[&quot;/sys/class/net/{#IFNAME}/speed&quot;])&lt;0 and last(/Linux by Zabbix agent VMs/vfs.file.contents[&quot;/sys/class/net/{#IFNAME}/speed&quot;])&gt;0
and
(last(/Linux by Zabbix agent VMs/vfs.file.contents[&quot;/sys/class/net/{#IFNAME}/type&quot;])=6 or last(/Linux by Zabbix agent VMs/vfs.file.contents[&quot;/sys/class/net/{#IFNAME}/type&quot;])=1)
and
(last(/Linux by Zabbix agent VMs/vfs.file.contents[&quot;/sys/class/net/{#IFNAME}/operstate&quot;])&lt;&gt;2)</expression><recovery_mode>RECOVERY_EXPRESSION</recovery_mode><recovery_expression>(change(/Linux by Zabbix agent VMs/vfs.file.contents[&quot;/sys/class/net/{#IFNAME}/speed&quot;])&gt;0 and last(/Linux by Zabbix agent VMs/vfs.file.contents[&quot;/sys/class/net/{#IFNAME}/speed&quot;],#2)&gt;0) or
(last(/Linux by Zabbix agent VMs/vfs.file.contents[&quot;/sys/class/net/{#IFNAME}/operstate&quot;])=2)</recovery_expression><name>Interface {#IFNAME}: Ethernet has changed to lower speed than it was before</name><opdata>Current reported speed: {ITEM.LASTVALUE1}</opdata><priority>INFO</priority><description>This Ethernet connection has transitioned down from its known maximum speed. This might be a sign of autonegotiation issues. Acknowledge to close the problem manually.</description><manual_close>YES</manual_close><dependencies><dependency><name>Interface {#IFNAME}: Link down</name><expression>{$IFCONTROL:&quot;{#IFNAME}&quot;}=1 and last(/Linux by Zabbix agent VMs/vfs.file.contents[&quot;/sys/class/net/{#IFNAME}/operstate&quot;])=2 and (last(/Linux by Zabbix agent VMs/vfs.file.contents[&quot;/sys/class/net/{#IFNAME}/operstate&quot;],#1)&lt;&gt;last(/Linux by Zabbix agent VMs/vfs.file.contents[&quot;/sys/class/net/{#IFNAME}/operstate&quot;],#2))</expression><recovery_expression>last(/Linux by Zabbix agent VMs/vfs.file.contents[&quot;/sys/class/net/{#IFNAME}/operstate&quot;])&lt;&gt;2 or {$IFCONTROL:&quot;{#IFNAME}&quot;}=0</recovery_expression></dependency></dependencies><tags><tag><tag>scope</tag><value>performance</value></tag></tags></trigger_prototype><trigger_prototype><uuid>e5bd46d3be9343c6867093762958ff45</uuid><expression>(avg(/Linux by Zabbix agent VMs/net.if.in[&quot;{#IFNAME}&quot;],15m)&gt;({$IF.UTIL.MAX:&quot;{#IFNAME}&quot;}/100)*last(/Linux by Zabbix agent VMs/vfs.file.contents[&quot;/sys/class/net/{#IFNAME}/speed&quot;]) or
avg(/Linux by Zabbix agent VMs/net.if.out[&quot;{#IFNAME}&quot;],15m)&gt;({$IF.UTIL.MAX:&quot;{#IFNAME}&quot;}/100)*last(/Linux by Zabbix agent VMs/vfs.file.contents[&quot;/sys/class/net/{#IFNAME}/speed&quot;])) and
last(/Linux by Zabbix agent VMs/vfs.file.contents[&quot;/sys/class/net/{#IFNAME}/speed&quot;])&gt;0</expression><recovery_mode>RECOVERY_EXPRESSION</recovery_mode><recovery_expression>avg(/Linux by Zabbix agent VMs/net.if.in[&quot;{#IFNAME}&quot;],15m)&lt;(({$IF.UTIL.MAX:&quot;{#IFNAME}&quot;}-3)/100)*last(/Linux by Zabbix agent VMs/vfs.file.contents[&quot;/sys/class/net/{#IFNAME}/speed&quot;]) and
avg(/Linux by Zabbix agent VMs/net.if.out[&quot;{#IFNAME}&quot;],15m)&lt;(({$IF.UTIL.MAX:&quot;{#IFNAME}&quot;}-3)/100)*last(/Linux by Zabbix agent VMs/vfs.file.contents[&quot;/sys/class/net/{#IFNAME}/speed&quot;])</recovery_expression><name>Interface {#IFNAME}: High bandwidth usage</name><event_name>Interface {#IFNAME}: High bandwidth usage (&gt;{$IF.UTIL.MAX:&quot;{#IFNAME}&quot;}%)</event_name><opdata>In: {ITEM.LASTVALUE1}, out: {ITEM.LASTVALUE3}, speed: {ITEM.LASTVALUE2}</opdata><priority>WARNING</priority><description>The utilization of the network interface is close to its estimated maximum bandwidth.</description><manual_close>YES</manual_close><dependencies><dependency><name>Interface {#IFNAME}: Link down</name><expression>{$IFCONTROL:&quot;{#IFNAME}&quot;}=1 and last(/Linux by Zabbix agent VMs/vfs.file.contents[&quot;/sys/class/net/{#IFNAME}/operstate&quot;])=2 and (last(/Linux by Zabbix agent VMs/vfs.file.contents[&quot;/sys/class/net/{#IFNAME}/operstate&quot;],#1)&lt;&gt;last(/Linux by Zabbix agent VMs/vfs.file.contents[&quot;/sys/class/net/{#IFNAME}/operstate&quot;],#2))</expression><recovery_expression>last(/Linux by Zabbix agent VMs/vfs.file.contents[&quot;/sys/class/net/{#IFNAME}/operstate&quot;])&lt;&gt;2 or {$IFCONTROL:&quot;{#IFNAME}&quot;}=0</recovery_expression></dependency></dependencies><tags><tag><tag>scope</tag><value>performance</value></tag></tags></trigger_prototype><trigger_prototype><uuid>5bdadce862af41cfbe1e64caa82fa408</uuid><expression>min(/Linux by Zabbix agent VMs/net.if.in[&quot;{#IFNAME}&quot;,errors],5m)&gt;{$IF.ERRORS.WARN:&quot;{#IFNAME}&quot;}
or min(/Linux by Zabbix agent VMs/net.if.out[&quot;{#IFNAME}&quot;,errors],5m)&gt;{$IF.ERRORS.WARN:&quot;{#IFNAME}&quot;}</expression><recovery_mode>RECOVERY_EXPRESSION</recovery_mode><recovery_expression>max(/Linux by Zabbix agent VMs/net.if.in[&quot;{#IFNAME}&quot;,errors],5m)&lt;{$IF.ERRORS.WARN:&quot;{#IFNAME}&quot;}*0.8
and max(/Linux by Zabbix agent VMs/net.if.out[&quot;{#IFNAME}&quot;,errors],5m)&lt;{$IF.ERRORS.WARN:&quot;{#IFNAME}&quot;}*0.8</recovery_expression><name>Interface {#IFNAME}: High error rate</name><event_name>Interface {#IFNAME}: High error rate (&gt;{$IF.ERRORS.WARN:&quot;{#IFNAME}&quot;} for 5m)</event_name><opdata>errors in: {ITEM.LASTVALUE1}, errors out: {ITEM.LASTVALUE2}</opdata><priority>WARNING</priority><description>It recovers when it is below 80% of the `{$IF.ERRORS.WARN:&quot;{#IFNAME}&quot;}` threshold.</description><manual_close>YES</manual_close><dependencies><dependency><name>Interface {#IFNAME}: Link down</name><expression>{$IFCONTROL:&quot;{#IFNAME}&quot;}=1 and last(/Linux by Zabbix agent VMs/vfs.file.contents[&quot;/sys/class/net/{#IFNAME}/operstate&quot;])=2 and (last(/Linux by Zabbix agent VMs/vfs.file.contents[&quot;/sys/class/net/{#IFNAME}/operstate&quot;],#1)&lt;&gt;last(/Linux by Zabbix agent VMs/vfs.file.contents[&quot;/sys/class/net/{#IFNAME}/operstate&quot;],#2))</expression><recovery_expression>last(/Linux by Zabbix agent VMs/vfs.file.contents[&quot;/sys/class/net/{#IFNAME}/operstate&quot;])&lt;&gt;2 or {$IFCONTROL:&quot;{#IFNAME}&quot;}=0</recovery_expression></dependency></dependencies><tags><tag><tag>scope</tag><value>availability</value></tag><tag><tag>scope</tag><value>performance</value></tag></tags></trigger_prototype></trigger_prototypes><graph_prototypes><graph_prototype><uuid>f1f8265a6ae6444b909e75d60a639e66</uuid><name>Interface {#IFNAME}: Network traffic</name><graph_items><graph_item><drawtype>GRADIENT_LINE</drawtype><color>199C0D</color><item><host>Linux by Zabbix agent VMs</host><key>net.if.in[&quot;{#IFNAME}&quot;]</key></item></graph_item><graph_item><sortorder>1</sortorder><drawtype>BOLD_LINE</drawtype><color>F63100</color><item><host>Linux by Zabbix agent VMs</host><key>net.if.out[&quot;{#IFNAME}&quot;]</key></item></graph_item><graph_item><sortorder>2</sortorder><color>00611C</color><yaxisside>RIGHT</yaxisside><item><host>Linux by Zabbix agent VMs</host><key>net.if.out[&quot;{#IFNAME}&quot;,errors]</key></item></graph_item><graph_item><sortorder>3</sortorder><color>F7941D</color><yaxisside>RIGHT</yaxisside><item><host>Linux by Zabbix agent VMs</host><key>net.if.in[&quot;{#IFNAME}&quot;,errors]</key></item></graph_item><graph_item><sortorder>4</sortorder><color>FC6EA3</color><yaxisside>RIGHT</yaxisside><item><host>Linux by Zabbix agent VMs</host><key>net.if.out[&quot;{#IFNAME}&quot;,dropped]</key></item></graph_item><graph_item><sortorder>5</sortorder><color>6C59DC</color><yaxisside>RIGHT</yaxisside><item><host>Linux by Zabbix agent VMs</host><key>net.if.in[&quot;{#IFNAME}&quot;,dropped]</key></item></graph_item></graph_items></graph_prototype></graph_prototypes></discovery_rule><discovery_rule><uuid>07855fa8626a43e8aab88c3a4c6cc2bf</uuid><name>Block devices discovery</name><key>vfs.dev.discovery</key><delay>1h</delay><filter><evaltype>AND</evaltype><conditions><condition><macro>{#DEVNAME}</macro><value>{$VFS.DEV.DEVNAME.MATCHES}</value></condition><condition><macro>{#DEVNAME}</macro><value>{$VFS.DEV.DEVNAME.NOT_MATCHES}</value><operator>NOT_MATCHES_REGEX</operator></condition><condition><macro>{#DEVTYPE}</macro><value>disk</value></condition></conditions></filter><lifetime>1d</lifetime><enabled_lifetime_type>DISABLE_AFTER</enabled_lifetime_type><enabled_lifetime>1h</enabled_lifetime><item_prototypes><item_prototype><uuid>eb0e3123812948acb2aba4288c135c7e</uuid><name>{#DEVNAME}: Disk average queue size (avgqu-sz)</name><type>DEPENDENT</type><key>vfs.dev.queue_size[{#DEVNAME}]</key><history>7d</history><value_type>FLOAT</value_type><description>The current average disk queue; the number of requests outstanding on the disk while the performance data is being collected.</description><preprocessing><step><type>JSONPATH</type><parameters><parameter>$[10]</parameter></parameters></step><step><type>CHANGE_PER_SECOND</type></step><step><type>MULTIPLIER</type><parameters><parameter>0.001</parameter></parameters></step></preprocessing><master_item><key>vfs.file.contents[/sys/block/{#DEVNAME}/stat]</key></master_item><tags><tag><tag>component</tag><value>storage</value></tag><tag><tag>disk</tag><value>{#DEVNAME}</value></tag></tags></item_prototype><item_prototype><uuid>0e13922ab1a24833867469d79cb4ec9a</uuid><name>{#DEVNAME}: Disk read request avg waiting time (r_await)</name><type>CALCULATED</type><key>vfs.dev.read.await[{#DEVNAME}]</key><history>7d</history><value_type>FLOAT</value_type><units>!ms</units><params>(last(//vfs.dev.read.time.rate[{#DEVNAME}])/(last(//vfs.dev.read.rate[{#DEVNAME}])+(last(//vfs.dev.read.rate[{#DEVNAME}])=0)))*1000*(last(//vfs.dev.read.rate[{#DEVNAME}]) &gt; 0)</params><description>This formula contains two Boolean expressions that evaluate to 1 or 0 in order to set the calculated metric to zero and to avoid the exception - division by zero.</description><tags><tag><tag>component</tag><value>storage</value></tag><tag><tag>disk</tag><value>{#DEVNAME}</value></tag></tags></item_prototype><item_prototype><uuid>e562702678554c1fab349949a0990a64</uuid><name>{#DEVNAME}: Disk read rate</name><type>DEPENDENT</type><key>vfs.dev.read.rate[{#DEVNAME}]</key><history>7d</history><value_type>FLOAT</value_type><units>!r/s</units><description>r/s (read operations per second) - the number (after merges) of read requests completed per second for the device.</description><preprocessing><step><type>JSONPATH</type><parameters><parameter>$[0]</parameter></parameters></step><step><type>CHANGE_PER_SECOND</type></step></preprocessing><master_item><key>vfs.file.contents[/sys/block/{#DEVNAME}/stat]</key></master_item><tags><tag><tag>component</tag><value>storage</value></tag><tag><tag>disk</tag><value>{#DEVNAME}</value></tag></tags></item_prototype><item_prototype><uuid>78c1713e817744daaf1c13b2c99cf8cb</uuid><name>{#DEVNAME}: Disk read time (rate)</name><type>DEPENDENT</type><key>vfs.dev.read.time.rate[{#DEVNAME}]</key><history>7d</history><value_type>FLOAT</value_type><description>The rate of total read time counter; used in `r_await` calculation.</description><preprocessing><step><type>JSONPATH</type><parameters><parameter>$[3]</parameter></parameters></step><step><type>CHANGE_PER_SECOND</type></step><step><type>MULTIPLIER</type><parameters><parameter>0.001</parameter></parameters></step></preprocessing><master_item><key>vfs.file.contents[/sys/block/{#DEVNAME}/stat]</key></master_item><tags><tag><tag>component</tag><value>storage</value></tag><tag><tag>disk</tag><value>{#DEVNAME}</value></tag></tags></item_prototype><item_prototype><uuid>9d4aa8c81c7e470698165b9d180bd834</uuid><name>{#DEVNAME}: Disk utilization</name><type>DEPENDENT</type><key>vfs.dev.util[{#DEVNAME}]</key><history>7d</history><value_type>FLOAT</value_type><units>%</units><description>This item is the percentage of elapsed time during which the selected disk drive was busy while servicing read or write requests.</description><preprocessing><step><type>JSONPATH</type><parameters><parameter>$[9]</parameter></parameters></step><step><type>CHANGE_PER_SECOND</type></step><step><type>MULTIPLIER</type><parameters><parameter>0.1</parameter></parameters></step></preprocessing><master_item><key>vfs.file.contents[/sys/block/{#DEVNAME}/stat]</key></master_item><tags><tag><tag>component</tag><value>storage</value></tag><tag><tag>disk</tag><value>{#DEVNAME}</value></tag></tags></item_prototype><item_prototype><uuid>67ccb2f7117c4cb5a3938e3966b51771</uuid><name>{#DEVNAME}: Disk write request avg waiting time (w_await)</name><type>CALCULATED</type><key>vfs.dev.write.await[{#DEVNAME}]</key><history>7d</history><value_type>FLOAT</value_type><units>!ms</units><params>(last(//vfs.dev.write.time.rate[{#DEVNAME}])/(last(//vfs.dev.write.rate[{#DEVNAME}])+(last(//vfs.dev.write.rate[{#DEVNAME}])=0)))*1000*(last(//vfs.dev.write.rate[{#DEVNAME}]) &gt; 0)</params><description>This formula contains two Boolean expressions that evaluate to 1 or 0 in order to set the calculated metric to zero and to avoid the exception - division by zero.</description><tags><tag><tag>component</tag><value>storage</value></tag><tag><tag>disk</tag><value>{#DEVNAME}</value></tag></tags></item_prototype><item_prototype><uuid>c52a7b42f0d9409bac85e729556127ca</uuid><name>{#DEVNAME}: Disk write rate</name><type>DEPENDENT</type><key>vfs.dev.write.rate[{#DEVNAME}]</key><history>7d</history><value_type>FLOAT</value_type><units>!w/s</units><description>w/s (write operations per second) - the number (after merges) of write requests completed per second for the device.</description><preprocessing><step><type>JSONPATH</type><parameters><parameter>$[4]</parameter></parameters></step><step><type>CHANGE_PER_SECOND</type></step></preprocessing><master_item><key>vfs.file.contents[/sys/block/{#DEVNAME}/stat]</key></master_item><tags><tag><tag>component</tag><value>storage</value></tag><tag><tag>disk</tag><value>{#DEVNAME}</value></tag></tags></item_prototype><item_prototype><uuid>ff2705bf236041b6a91e6c34006b5924</uuid><name>{#DEVNAME}: Disk write time (rate)</name><type>DEPENDENT</type><key>vfs.dev.write.time.rate[{#DEVNAME}]</key><history>7d</history><value_type>FLOAT</value_type><description>The rate of total write time counter; used in `w_await` calculation.</description><preprocessing><step><type>JSONPATH</type><parameters><parameter>$[7]</parameter></parameters></step><step><type>CHANGE_PER_SECOND</type></step><step><type>MULTIPLIER</type><parameters><parameter>0.001</parameter></parameters></step></preprocessing><master_item><key>vfs.file.contents[/sys/block/{#DEVNAME}/stat]</key></master_item><tags><tag><tag>component</tag><value>storage</value></tag><tag><tag>disk</tag><value>{#DEVNAME}</value></tag></tags></item_prototype><item_prototype><uuid>4982888295b7473787f4b1e168fd79ed</uuid><name>{#DEVNAME}: Get stats</name><key>vfs.file.contents[/sys/block/{#DEVNAME}/stat]</key><history>0</history><value_type>TEXT</value_type><description>The contents of get `/sys/block/{#DEVNAME}/stat` to get the disk statistics.</description><preprocessing><step><type>JAVASCRIPT</type><parameters><parameter>return JSON.stringify(value.trim().split(/ +/));</parameter></parameters></step></preprocessing><tags><tag><tag>component</tag><value>raw</value></tag></tags></item_prototype></item_prototypes><trigger_prototypes><trigger_prototype><uuid>7b1b4551f2b54029917b739fc9986eee</uuid><expression>min(/Linux by Zabbix agent VMs/vfs.dev.read.await[{#DEVNAME}],15m) &gt; {$VFS.DEV.READ.AWAIT.WARN:&quot;{#DEVNAME}&quot;} or min(/Linux by Zabbix agent VMs/vfs.dev.write.await[{#DEVNAME}],15m) &gt; {$VFS.DEV.WRITE.AWAIT.WARN:&quot;{#DEVNAME}&quot;}</expression><name>{#DEVNAME}: Disk read/write request responses are too high</name><event_name>{#DEVNAME}: Disk read/write request responses are too high (read &gt; {$VFS.DEV.READ.AWAIT.WARN:&quot;{#DEVNAME}&quot;} ms for 15m or write &gt; {$VFS.DEV.WRITE.AWAIT.WARN:&quot;{#DEVNAME}&quot;} ms for 15m)</event_name><priority>WARNING</priority><description>This trigger might indicate the disk `{#DEVNAME}` saturation.</description><manual_close>YES</manual_close><tags><tag><tag>scope</tag><value>performance</value></tag></tags></trigger_prototype></trigger_prototypes><graph_prototypes><graph_prototype><uuid>a10a86f71a214cb8ad0c52d220c254ed</uuid><name>{#DEVNAME}: Disk average waiting time</name><graph_items><graph_item><color>199C0D</color><item><host>Linux by Zabbix agent VMs</host><key>vfs.dev.read.await[{#DEVNAME}]</key></item></graph_item><graph_item><sortorder>1</sortorder><drawtype>GRADIENT_LINE</drawtype><color>F63100</color><item><host>Linux by Zabbix agent VMs</host><key>vfs.dev.write.await[{#DEVNAME}]</key></item></graph_item></graph_items></graph_prototype><graph_prototype><uuid>9e3527d050e949b1b53bdb4e01ac4bb3</uuid><name>{#DEVNAME}: Disk read/write rates</name><graph_items><graph_item><color>199C0D</color><item><host>Linux by Zabbix agent VMs</host><key>vfs.dev.read.rate[{#DEVNAME}]</key></item></graph_item><graph_item><sortorder>1</sortorder><drawtype>GRADIENT_LINE</drawtype><color>F63100</color><item><host>Linux by Zabbix agent VMs</host><key>vfs.dev.write.rate[{#DEVNAME}]</key></item></graph_item></graph_items></graph_prototype><graph_prototype><uuid>b71c6c582f8d47ea9683d630b1ed7133</uuid><name>{#DEVNAME}: Disk utilization and queue</name><graph_items><graph_item><color>199C0D</color><yaxisside>RIGHT</yaxisside><item><host>Linux by Zabbix agent VMs</host><key>vfs.dev.queue_size[{#DEVNAME}]</key></item></graph_item><graph_item><sortorder>1</sortorder><drawtype>GRADIENT_LINE</drawtype><color>F63100</color><item><host>Linux by Zabbix agent VMs</host><key>vfs.dev.util[{#DEVNAME}]</key></item></graph_item></graph_items></graph_prototype></graph_prototypes><preprocessing><step><type>DISCARD_UNCHANGED_HEARTBEAT</type><parameters><parameter>1h</parameter></parameters></step></preprocessing></discovery_rule><discovery_rule><uuid>b4d88e9f6be7448faa7ff62f0a073759</uuid><name>Mounted filesystem discovery</name><type>DEPENDENT</type><key>vfs.fs.dependent.discovery</key><filter><evaltype>AND</evaltype><conditions><condition><macro>{#FSNAME}</macro><value>{$VFS.FS.FSNAME.MATCHES}</value></condition><condition><macro>{#FSNAME}</macro><value>{$VFS.FS.FSNAME.NOT_MATCHES}</value><operator>NOT_MATCHES_REGEX</operator></condition><condition><macro>{#FSTYPE}</macro><value>{$VFS.FS.FSTYPE.MATCHES}</value></condition><condition><macro>{#FSTYPE}</macro><value>{$VFS.FS.FSTYPE.NOT_MATCHES}</value><operator>NOT_MATCHES_REGEX</operator></condition></conditions></filter><lifetime>1d</lifetime><enabled_lifetime_type>DISABLE_AFTER</enabled_lifetime_type><enabled_lifetime>1h</enabled_lifetime><description>The discovery of mounted filesystems with different types.</description><item_prototypes><item_prototype><uuid>313c2183a07f484aa7e590966048e700</uuid><name>{#FSNAME}: Free inodes in %</name><type>DEPENDENT</type><key>vfs.fs.dependent.inode[{#FSNAME},pfree]</key><history>7d</history><value_type>FLOAT</value_type><units>%</units><preprocessing><step><type>JSONPATH</type><parameters><parameter>$.inodes.pfree</parameter></parameters></step></preprocessing><master_item><key>vfs.fs.dependent[{#FSNAME},data]</key></master_item><tags><tag><tag>component</tag><value>storage</value></tag><tag><tag>filesystem</tag><value>{#FSNAME}</value></tag></tags><trigger_prototypes><trigger_prototype><uuid>fdc52b2020014accb56a425da882b76d</uuid><expression>min(/Linux by Zabbix agent VMs/vfs.fs.dependent.inode[{#FSNAME},pfree],5m)&lt;{$VFS.FS.INODE.PFREE.MIN.CRIT:&quot;{#FSNAME}&quot;}</expression><name>{#FSNAME}: Running out of free inodes</name><event_name>{#FSNAME}: Running out of free inodes (free &lt; {$VFS.FS.INODE.PFREE.MIN.CRIT:&quot;{#FSNAME}&quot;}%)</event_name><opdata>Free inodes: {ITEM.LASTVALUE1}</opdata><priority>AVERAGE</priority><description>It may become impossible to write to a disk if there are no index nodes left.
The following error messages may be returned as symptoms, even though the free space is available:
- 'No space left on device';
- 'Disk is full'.</description><tags><tag><tag>scope</tag><value>capacity</value></tag><tag><tag>scope</tag><value>performance</value></tag></tags></trigger_prototype><trigger_prototype><uuid>b08c6c05b22d46199d494dea325a26f3</uuid><expression>min(/Linux by Zabbix agent VMs/vfs.fs.dependent.inode[{#FSNAME},pfree],5m)&lt;{$VFS.FS.INODE.PFREE.MIN.WARN:&quot;{#FSNAME}&quot;}</expression><name>{#FSNAME}: Running out of free inodes</name><event_name>{#FSNAME}: Running out of free inodes (free &lt; {$VFS.FS.INODE.PFREE.MIN.WARN:&quot;{#FSNAME}&quot;}%)</event_name><opdata>Free inodes: {ITEM.LASTVALUE1}</opdata><priority>WARNING</priority><description>It may become impossible to write to a disk if there are no index nodes left.
The following error messages may be returned as symptoms, even though the free space is available:
- 'No space left on device';
- 'Disk is full'.</description><dependencies><dependency><name>{#FSNAME}: Running out of free inodes</name><expression>min(/Linux by Zabbix agent VMs/vfs.fs.dependent.inode[{#FSNAME},pfree],5m)&lt;{$VFS.FS.INODE.PFREE.MIN.CRIT:&quot;{#FSNAME}&quot;}</expression></dependency></dependencies><tags><tag><tag>scope</tag><value>capacity</value></tag><tag><tag>scope</tag><value>performance</value></tag></tags></trigger_prototype></trigger_prototypes></item_prototype><item_prototype><uuid>120adf96a141404986534e82585460d1</uuid><name>{#FSNAME}: Space utilization</name><type>DEPENDENT</type><key>vfs.fs.dependent.size[{#FSNAME},pused]</key><history>7d</history><value_type>FLOAT</value_type><units>%</units><description>Space utilization expressed in % for `{#FSNAME}`.</description><preprocessing><step><type>JSONPATH</type><parameters><parameter>$.bytes.pused</parameter></parameters></step></preprocessing><master_item><key>vfs.fs.dependent[{#FSNAME},data]</key></master_item><tags><tag><tag>component</tag><value>storage</value></tag><tag><tag>filesystem</tag><value>{#FSNAME}</value></tag></tags></item_prototype><item_prototype><uuid>d70f8d7aece74600878bbb1e2f058bfc</uuid><name>{#FSNAME}: Total space</name><type>DEPENDENT</type><key>vfs.fs.dependent.size[{#FSNAME},total]</key><history>7d</history><units>B</units><description>The total space expressed in bytes.</description><preprocessing><step><type>JSONPATH</type><parameters><parameter>$.bytes.total</parameter></parameters></step></preprocessing><master_item><key>vfs.fs.dependent[{#FSNAME},data]</key></master_item><tags><tag><tag>component</tag><value>storage</value></tag><tag><tag>filesystem</tag><value>{#FSNAME}</value></tag></tags></item_prototype><item_prototype><uuid>72d9590b089a4be7a9993d8974e739cb</uuid><name>{#FSNAME}: Used space</name><type>DEPENDENT</type><key>vfs.fs.dependent.size[{#FSNAME},used]</key><history>7d</history><units>B</units><description>Used storage expressed in bytes.</description><preprocessing><step><type>JSONPATH</type><parameters><parameter>$.bytes.used</parameter></parameters></step></preprocessing><master_item><key>vfs.fs.dependent[{#FSNAME},data]</key></master_item><tags><tag><tag>component</tag><value>storage</value></tag><tag><tag>filesystem</tag><value>{#FSNAME}</value></tag></tags></item_prototype><item_prototype><uuid>4b1957d8806c425d8864f85deeb1b8be</uuid><name>{#FSNAME}: Get filesystem data</name><type>DEPENDENT</type><key>vfs.fs.dependent[{#FSNAME},data]</key><history>1h</history><value_type>TEXT</value_type><preprocessing><step><type>JSONPATH</type><parameters><parameter>$.[?(@.fsname=='{#FSNAME}')].first()</parameter></parameters></step></preprocessing><master_item><key>vfs.fs.get</key></master_item><tags><tag><tag>component</tag><value>raw</value></tag><tag><tag>component</tag><value>storage</value></tag><tag><tag>filesystem</tag><value>{#FSNAME}</value></tag></tags></item_prototype><item_prototype><uuid>4e476915ad0043cda661fdea427b9c97</uuid><name>{#FSNAME}: Filesystem is read-only</name><type>DEPENDENT</type><key>vfs.fs.dependent[{#FSNAME},readonly]</key><history>7d</history><description>The filesystem is mounted as read-only. It is available only for Zabbix agents 6.4 and higher.</description><preprocessing><step><type>JSONPATH</type><parameters><parameter>$.options</parameter></parameters><error_handler>DISCARD_VALUE</error_handler></step><step><type>REGEX</type><parameters><parameter>(?:^|,)ro\b</parameter><parameter>1</parameter></parameters><error_handler>CUSTOM_VALUE</error_handler><error_handler_params>0</error_handler_params></step></preprocessing><master_item><key>vfs.fs.dependent[{#FSNAME},data]</key></master_item><tags><tag><tag>component</tag><value>storage</value></tag><tag><tag>filesystem</tag><value>{#FSNAME}</value></tag></tags><trigger_prototypes><trigger_prototype><uuid>2d12ba72b40c4ea5bbe6dca37098c667</uuid><expression>last(/Linux by Zabbix agent VMs/vfs.fs.dependent[{#FSNAME},readonly],#2)=0 and last(/Linux by Zabbix agent VMs/vfs.fs.dependent[{#FSNAME},readonly])=1</expression><recovery_mode>RECOVERY_EXPRESSION</recovery_mode><recovery_expression>last(/Linux by Zabbix agent VMs/vfs.fs.dependent[{#FSNAME},readonly])=0</recovery_expression><name>{#FSNAME}: Filesystem has become read-only</name><priority>AVERAGE</priority><description>The filesystem has become read-only. A possible reason is an I/O error. It is available only for Zabbix agents 6.4 and higher.</description><manual_close>YES</manual_close><tags><tag><tag>scope</tag><value>availability</value></tag><tag><tag>scope</tag><value>performance</value></tag></tags></trigger_prototype></trigger_prototypes></item_prototype></item_prototypes><trigger_prototypes><trigger_prototype><uuid>5438d93d321e43bf89743152cd6b5e29</uuid><expression>last(/Linux by Zabbix agent VMs/vfs.fs.dependent.size[{#FSNAME},pused])&gt;{$VFS.FS.PUSED.MAX.CRIT:&quot;{#FSNAME}&quot;} and
((last(/Linux by Zabbix agent VMs/vfs.fs.dependent.size[{#FSNAME},total])-last(/Linux by Zabbix agent VMs/vfs.fs.dependent.size[{#FSNAME},used]))&lt;{$VFS.FS.FREE.MIN.CRIT:&quot;{#FSNAME}&quot;} or timeleft(/Linux by Zabbix agent VMs/vfs.fs.dependent.size[{#FSNAME},pused],1h,100)&lt;1d)</expression><name>{#FSNAME}: Disk space is critically low</name><event_name>{#FSNAME}: Disk space is critically low (used &gt; {$VFS.FS.PUSED.MAX.CRIT:&quot;{#FSNAME}&quot;}%)</event_name><opdata>Space used: {ITEM.LASTVALUE3} of {ITEM.LASTVALUE2} ({ITEM.LASTVALUE1})</opdata><priority>AVERAGE</priority><description>Two conditions should match:
1. The first condition - utilization of the space should be above `{$VFS.FS.PUSED.MAX.CRIT:&quot;{#FSNAME}&quot;}`.
2. The second condition should be one of the following:
- the disk free space is less than `{$VFS.FS.FREE.MIN.CRIT:&quot;{#FSNAME}&quot;}`;
- the disk will be full in less than 24 hours.</description><manual_close>YES</manual_close><tags><tag><tag>scope</tag><value>availability</value></tag><tag><tag>scope</tag><value>capacity</value></tag></tags></trigger_prototype><trigger_prototype><uuid>88b45f6ec43546089880670c6ab03d38</uuid><expression>last(/Linux by Zabbix agent VMs/vfs.fs.dependent.size[{#FSNAME},pused])&gt;{$VFS.FS.PUSED.MAX.WARN:&quot;{#FSNAME}&quot;} and
((last(/Linux by Zabbix agent VMs/vfs.fs.dependent.size[{#FSNAME},total])-last(/Linux by Zabbix agent VMs/vfs.fs.dependent.size[{#FSNAME},used]))&lt;{$VFS.FS.FREE.MIN.WARN:&quot;{#FSNAME}&quot;} or timeleft(/Linux by Zabbix agent VMs/vfs.fs.dependent.size[{#FSNAME},pused],1h,100)&lt;1d)</expression><name>{#FSNAME}: Disk space is low</name><event_name>{#FSNAME}: Disk space is low (used &gt; {$VFS.FS.PUSED.MAX.WARN:&quot;{#FSNAME}&quot;}%)</event_name><opdata>Space used: {ITEM.LASTVALUE3} of {ITEM.LASTVALUE2} ({ITEM.LASTVALUE1})</opdata><priority>WARNING</priority><description>Two conditions should match:
1. The first condition - utilization of the space should be above `{$VFS.FS.PUSED.MAX.WARN:&quot;{#FSNAME}&quot;}`.
2. The second condition should be one of the following:
- the disk free space is less than `{$VFS.FS.FREE.MIN.WARN:&quot;{#FSNAME}&quot;}`;
- the disk will be full in less than 24 hours.</description><manual_close>YES</manual_close><dependencies><dependency><name>{#FSNAME}: Disk space is critically low</name><expression>last(/Linux by Zabbix agent VMs/vfs.fs.dependent.size[{#FSNAME},pused])&gt;{$VFS.FS.PUSED.MAX.CRIT:&quot;{#FSNAME}&quot;} and
((last(/Linux by Zabbix agent VMs/vfs.fs.dependent.size[{#FSNAME},total])-last(/Linux by Zabbix agent VMs/vfs.fs.dependent.size[{#FSNAME},used]))&lt;{$VFS.FS.FREE.MIN.CRIT:&quot;{#FSNAME}&quot;} or timeleft(/Linux by Zabbix agent VMs/vfs.fs.dependent.size[{#FSNAME},pused],1h,100)&lt;1d)</expression></dependency></dependencies><tags><tag><tag>scope</tag><value>availability</value></tag><tag><tag>scope</tag><value>capacity</value></tag></tags></trigger_prototype></trigger_prototypes><graph_prototypes><graph_prototype><uuid>56ee163a6bc54922b6070ca5403ea2e8</uuid><name>{#FSNAME}: Disk space usage</name><width>600</width><height>340</height><type>PIE</type><show_3d>YES</show_3d><graph_items><graph_item><color>969696</color><calc_fnc>LAST</calc_fnc><type>GRAPH_SUM</type><item><host>Linux by Zabbix agent VMs</host><key>vfs.fs.dependent.size[{#FSNAME},total]</key></item></graph_item><graph_item><sortorder>1</sortorder><color>C80000</color><calc_fnc>LAST</calc_fnc><item><host>Linux by Zabbix agent VMs</host><key>vfs.fs.dependent.size[{#FSNAME},used]</key></item></graph_item></graph_items></graph_prototype></graph_prototypes><master_item><key>vfs.fs.get</key></master_item><lld_macro_paths><lld_macro_path><lld_macro>{#FSNAME}</lld_macro><path>$.fsname</path></lld_macro_path><lld_macro_path><lld_macro>{#FSTYPE}</lld_macro><path>$.fstype</path></lld_macro_path></lld_macro_paths><overrides><override><name>Skip metadata collection for dynamic FS</name><step>1</step><filter><conditions><condition><macro>{#FSTYPE}</macro><value>^(btrfs|zfs)$</value></condition></conditions></filter><operations><operation><operator>LIKE</operator><value>inode</value><discover>NO_DISCOVER</discover></operation></operations></override></overrides></discovery_rule></discovery_rules><tags><tag><tag>class</tag><value>os</value></tag><tag><tag>target</tag><value>linux</value></tag></tags><macros><macro><macro>{$AGENT.TIMEOUT}</macro><value>3m</value><description>Timeout after which agent is considered unavailable. Works only for agents reachable from Zabbix server/proxy (passive mode).</description></macro><macro><macro>{$CPU.UTIL.CRIT}</macro><value>90</value></macro><macro><macro>{$IF.ERRORS.WARN}</macro><value>2</value></macro><macro><macro>{$IF.UTIL.MAX}</macro><value>90</value><description>This macro is used as a threshold in the interface utilization trigger.</description></macro><macro><macro>{$IFCONTROL}</macro><value>1</value></macro><macro><macro>{$KERNEL.MAXFILES.MIN}</macro><value>256</value></macro><macro><macro>{$KERNEL.MAXPROC.MIN}</macro><value>1024</value></macro><macro><macro>{$LOAD_AVG_PER_CPU.MAX.WARN}</macro><value>1.5</value><description>The CPU load per core is considered sustainable. If necessary, it can be tuned.</description></macro><macro><macro>{$MEMORY.AVAILABLE.MIN}</macro><value>20M</value><description>This macro is used as a threshold in the memory available trigger.</description></macro><macro><macro>{$MEMORY.UTIL.MAX}</macro><value>90</value><description>This macro is used as a threshold in the memory utilization trigger.</description></macro><macro><macro>{$NET.IF.IFNAME.MATCHES}</macro><value>^.*$</value></macro><macro><macro>{$NET.IF.IFNAME.NOT_MATCHES}</macro><value>(^Software Loopback Interface|^NULL[0-9.]*$|^[Ll]o[0-9.]*$|^[Ss]ystem$|^Nu[0-9.]*$|^veth[0-9A-z]+$|docker[0-9]+|br-[a-z0-9]{12})</value><description>It filters out `loopbacks`, `nulls`, `docker veth` links and `docker0 bridge` by default.</description></macro><macro><macro>{$SWAP.PFREE.MIN.WARN}</macro><value>50</value></macro><macro><macro>{$SYSTEM.FUZZYTIME.MAX}</macro><value>60</value></macro><macro><macro>{$VFS.DEV.DEVNAME.MATCHES}</macro><value>.+</value><description>This macro is used for a discovery of block devices. It can be overridden on host level or its linked template level.</description></macro><macro><macro>{$VFS.DEV.DEVNAME.NOT_MATCHES}</macro><value>^(loop[0-9]*|sd[a-z][0-9]+|nbd[0-9]+|sr[0-9]+|fd[0-9]+|dm-[0-9]+|ram[0-9]+|ploop[a-z0-9]+|md[0-9]*|hcp[0-9]*|zram[0-9]*)</value><description>This macro is used for a discovery of block devices. It can be overridden on host level or its linked template level.</description></macro><macro><macro>{$VFS.DEV.READ.AWAIT.WARN}</macro><value>20</value><description>The average response time (in ms) of disk read before the trigger would fire.</description></macro><macro><macro>{$VFS.DEV.WRITE.AWAIT.WARN}</macro><value>20</value><description>The average response time (in ms) of disk write before the trigger would fire.</description></macro><macro><macro>{$VFS.FS.FREE.MIN.CRIT}</macro><value>5G</value><description>The critical threshold for utilization of the filesystem.</description></macro><macro><macro>{$VFS.FS.FREE.MIN.WARN}</macro><value>10G</value><description>The warning threshold for utilization of the filesystem.</description></macro><macro><macro>{$VFS.FS.FSNAME.MATCHES}</macro><value>.+</value><description>This macro is used for discovery of the filesystems. It can be overridden on host level or its linked template level.</description></macro><macro><macro>{$VFS.FS.FSNAME.NOT_MATCHES}</macro><value>^(/dev|/sys|/run|/proc|.+/shm$)</value><description>This macro is used for discovery of the filesystems. It can be overridden on host level or its linked template level.</description></macro><macro><macro>{$VFS.FS.FSTYPE.MATCHES}</macro><value>^(btrfs|ext2|ext3|ext4|reiser|xfs|ffs|ufs|jfs|jfs2|vxfs|hfs|apfs|refs|ntfs|fat32|zfs)$</value><description>This macro is used for discovery of the filesystems. It can be overridden on host level or its linked template level.</description></macro><macro><macro>{$VFS.FS.FSTYPE.NOT_MATCHES}</macro><value>^\s$</value><description>This macro is used for discovery of the filesystems. It can be overridden on host level or its linked template level.</description></macro><macro><macro>{$VFS.FS.INODE.PFREE.MIN.CRIT}</macro><value>10</value><description>The critical threshold of the filesystem metadata utilization.</description></macro><macro><macro>{$VFS.FS.INODE.PFREE.MIN.WARN}</macro><value>20</value><description>The warning threshold of the filesystem metadata utilization.</description></macro><macro><macro>{$VFS.FS.PUSED.MAX.CRIT}</macro><value>90</value><description>The critical threshold of the filesystem utilization.</description></macro><macro><macro>{$VFS.FS.PUSED.MAX.WARN}</macro><value>80</value><description>The warning threshold of the filesystem utilization.</description></macro></macros><dashboards><dashboard><uuid>c440a22b21c14407b5342a70701e980c</uuid><name>Network interfaces</name><pages><page><name>Overview</name><widgets><widget><type>graphprototype</type><width>72</width><height>5</height><fields><field><type>INTEGER</type><name>columns</name><value>1</value></field><field><type>GRAPH_PROTOTYPE</type><name>graphid</name><value><host>Linux by Zabbix agent VMs</host><name>Interface {#IFNAME}: Network traffic</name></value></field><field><type>STRING</type><name>reference</name><value>AABFW</value></field><field><type>INTEGER</type><name>rows</name><value>1</value></field></fields></widget></widgets></page></pages></dashboard><dashboard><uuid>809b6f2f6d98494ea0df23fc3ca2a2fd</uuid><name>System performance</name><pages><page><widgets><widget><type>graph</type><width>36</width><height>5</height><fields><field><type>GRAPH</type><name>graphid</name><value><host>Linux by Zabbix agent VMs</host><name>Linux: System load</name></value></field><field><type>STRING</type><name>reference</name><value>AABFN</value></field></fields></widget><widget><type>graph</type><y>5</y><width>36</width><height>5</height><fields><field><type>GRAPH</type><name>graphid</name><value><host>Linux by Zabbix agent VMs</host><name>Linux: Memory usage</name></value></field><field><type>STRING</type><name>reference</name><value>AABFP</value></field></fields></widget><widget><type>graphprototype</type><y>10</y><width>72</width><height>5</height><fields><field><type>INTEGER</type><name>columns</name><value>1</value></field><field><type>GRAPH_PROTOTYPE</type><name>graphid</name><value><host>Linux by Zabbix agent VMs</host><name>{#FSNAME}: Disk space usage</name></value></field><field><type>STRING</type><name>reference</name><value>AABFR</value></field><field><type>INTEGER</type><name>rows</name><value>1</value></field></fields></widget><widget><type>graphprototype</type><y>15</y><width>72</width><height>5</height><fields><field><type>INTEGER</type><name>columns</name><value>1</value></field><field><type>GRAPH_PROTOTYPE</type><name>graphid</name><value><host>Linux by Zabbix agent VMs</host><name>{#DEVNAME}: Disk read/write rates</name></value></field><field><type>STRING</type><name>reference</name><value>AABFS</value></field><field><type>INTEGER</type><name>rows</name><value>1</value></field></fields></widget><widget><type>graphprototype</type><y>20</y><width>72</width><height>5</height><fields><field><type>INTEGER</type><name>columns</name><value>1</value></field><field><type>GRAPH_PROTOTYPE</type><name>graphid</name><value><host>Linux by Zabbix agent VMs</host><name>{#DEVNAME}: Disk average waiting time</name></value></field><field><type>STRING</type><name>reference</name><value>AABFT</value></field><field><type>INTEGER</type><name>rows</name><value>1</value></field></fields></widget><widget><type>graphprototype</type><y>25</y><width>72</width><height>5</height><fields><field><type>INTEGER</type><name>columns</name><value>1</value></field><field><type>GRAPH_PROTOTYPE</type><name>graphid</name><value><host>Linux by Zabbix agent VMs</host><name>{#DEVNAME}: Disk utilization and queue</name></value></field><field><type>STRING</type><name>reference</name><value>AABFU</value></field><field><type>INTEGER</type><name>rows</name><value>1</value></field></fields></widget><widget><type>graphprototype</type><y>30</y><width>72</width><height>5</height><fields><field><type>INTEGER</type><name>columns</name><value>1</value></field><field><type>GRAPH_PROTOTYPE</type><name>graphid</name><value><host>Linux by Zabbix agent VMs</host><name>Interface {#IFNAME}: Network traffic</name></value></field><field><type>STRING</type><name>reference</name><value>AABFV</value></field><field><type>INTEGER</type><name>rows</name><value>1</value></field></fields></widget><widget><type>graph</type><x>36</x><width>36</width><height>5</height><fields><field><type>GRAPH</type><name>graphid</name><value><host>Linux by Zabbix agent VMs</host><name>Linux: CPU usage</name></value></field><field><type>STRING</type><name>reference</name><value>AABFO</value></field></fields></widget><widget><type>graph</type><x>36</x><y>5</y><width>36</width><height>5</height><fields><field><type>GRAPH</type><name>graphid</name><value><host>Linux by Zabbix agent VMs</host><name>Linux: Swap usage</name></value></field><field><type>STRING</type><name>reference</name><value>AABFQ</value></field></fields></widget></widgets></page></pages></dashboard></dashboards><valuemaps><valuemap><uuid>b973b608ca7a4c279d08874fc17dcb4e</uuid><name>ifOperStatus</name><mappings><mapping><value>0</value><newvalue>unknown</newvalue></mapping><mapping><value>1</value><newvalue>notpresent</newvalue></mapping><mapping><value>2</value><newvalue>down</newvalue></mapping><mapping><value>3</value><newvalue>lowerlayerdown</newvalue></mapping><mapping><value>4</value><newvalue>testing</newvalue></mapping><mapping><value>5</value><newvalue>dormant</newvalue></mapping><mapping><value>6</value><newvalue>up</newvalue></mapping></mappings></valuemap><valuemap><uuid>0262f82e498e4ded89b13ccd1aa23d0d</uuid><name>Linux::Interface protocol types</name><mappings><mapping><value>0</value><newvalue>from KA9Q: NET/ROM pseudo</newvalue></mapping><mapping><value>1</value><newvalue>Ethernet</newvalue></mapping><mapping><value>2</value><newvalue>Experimental Ethernet</newvalue></mapping><mapping><value>3</value><newvalue>AX.25 Level 2</newvalue></mapping><mapping><value>4</value><newvalue>PROnet token ring</newvalue></mapping><mapping><value>5</value><newvalue>Chaosnet</newvalue></mapping><mapping><value>6</value><newvalue>IEEE 802.2 Ethernet/TR/TB</newvalue></mapping><mapping><value>7</value><newvalue>ARCnet</newvalue></mapping><mapping><value>8</value><newvalue>APPLEtalk</newvalue></mapping><mapping><value>15</value><newvalue>Frame Relay DLCI</newvalue></mapping><mapping><value>19</value><newvalue>ATM</newvalue></mapping><mapping><value>23</value><newvalue>Metricom STRIP (new IANA id)</newvalue></mapping><mapping><value>24</value><newvalue>IEEE 1394 IPv4 - RFC 2734</newvalue></mapping><mapping><value>27</value><newvalue>EUI-64</newvalue></mapping><mapping><value>32</value><newvalue>InfiniBand</newvalue></mapping><mapping><value>256</value><newvalue>ARPHRD_SLIP</newvalue></mapping><mapping><value>257</value><newvalue>ARPHRD_CSLIP</newvalue></mapping><mapping><value>258</value><newvalue>ARPHRD_SLIP6</newvalue></mapping><mapping><value>259</value><newvalue>ARPHRD_CSLIP6</newvalue></mapping><mapping><value>260</value><newvalue>Notional KISS type</newvalue></mapping><mapping><value>264</value><newvalue>ARPHRD_ADAPT</newvalue></mapping><mapping><value>270</value><newvalue>ARPHRD_ROSE</newvalue></mapping><mapping><value>271</value><newvalue>CCITT X.25</newvalue></mapping><mapping><value>272</value><newvalue>Boards with X.25 in firmware</newvalue></mapping><mapping><value>280</value><newvalue>Controller Area Network</newvalue></mapping><mapping><value>512</value><newvalue>ARPHRD_PPP</newvalue></mapping><mapping><value>513</value><newvalue>Cisco HDLC</newvalue></mapping><mapping><value>516</value><newvalue>LAPB</newvalue></mapping><mapping><value>517</value><newvalue>Digital's DDCMP protocol</newvalue></mapping><mapping><value>518</value><newvalue>Raw HDLC</newvalue></mapping><mapping><value>519</value><newvalue>Raw IP</newvalue></mapping><mapping><value>768</value><newvalue>IPIP tunnel</newvalue></mapping><mapping><value>769</value><newvalue>IP6IP6 tunnel</newvalue></mapping><mapping><value>770</value><newvalue>Frame Relay Access Device</newvalue></mapping><mapping><value>771</value><newvalue>SKIP vif</newvalue></mapping><mapping><value>772</value><newvalue>Loopback device</newvalue></mapping><mapping><value>773</value><newvalue>Localtalk device</newvalue></mapping><mapping><value>774</value><newvalue>Fiber Distributed Data Interface</newvalue></mapping><mapping><value>775</value><newvalue>AP1000 BIF</newvalue></mapping><mapping><value>776</value><newvalue>sit0 device - IPv6-in-IPv4</newvalue></mapping><mapping><value>777</value><newvalue>IP over DDP tunneller</newvalue></mapping><mapping><value>778</value><newvalue>GRE over IP</newvalue></mapping><mapping><value>779</value><newvalue>PIMSM register interface</newvalue></mapping><mapping><value>780</value><newvalue>High Performance Parallel Interface</newvalue></mapping><mapping><value>781</value><newvalue>Nexus 64Mbps Ash</newvalue></mapping><mapping><value>782</value><newvalue>Acorn Econet</newvalue></mapping><mapping><value>783</value><newvalue>Linux-IrDA</newvalue></mapping><mapping><value>784</value><newvalue>Point to point fibrechannel</newvalue></mapping><mapping><value>785</value><newvalue>Fibrechannel arbitrated loop</newvalue></mapping><mapping><value>786</value><newvalue>Fibrechannel public loop</newvalue></mapping><mapping><value>787</value><newvalue>Fibrechannel fabric</newvalue></mapping><mapping><value>800</value><newvalue>Magic type ident for TR</newvalue></mapping><mapping><value>801</value><newvalue>IEEE 802.11</newvalue></mapping><mapping><value>802</value><newvalue>IEEE 802.11 + Prism2 header</newvalue></mapping><mapping><value>803</value><newvalue>IEEE 802.11 + radiotap header</newvalue></mapping><mapping><value>804</value><newvalue>ARPHRD_IEEE802154</newvalue></mapping><mapping><value>805</value><newvalue>IEEE 802.15.4 network monitor</newvalue></mapping><mapping><value>820</value><newvalue>PhoNet media type</newvalue></mapping><mapping><value>821</value><newvalue>PhoNet pipe header</newvalue></mapping><mapping><value>822</value><newvalue>CAIF media type</newvalue></mapping><mapping><value>823</value><newvalue>GRE over IPv6</newvalue></mapping><mapping><value>824</value><newvalue>Netlink header</newvalue></mapping><mapping><value>825</value><newvalue>IPv6 over LoWPAN</newvalue></mapping><mapping><value>826</value><newvalue>Vsock monitor header</newvalue></mapping></mappings></valuemap><valuemap><uuid>60f8d8d1d2e64ee880680a754400f77c</uuid><name>zabbix.host.available</name><mappings><mapping><value>0</value><newvalue>not available</newvalue></mapping><mapping><value>1</value><newvalue>available</newvalue></mapping><mapping><value>2</value><newvalue>unknown</newvalue></mapping></mappings></valuemap><valuemap><uuid>6ff3c460d03e45948edfe7719383f28b</uuid><name>Zabbix agent ping status</name><mappings><mapping><value>1</value><newvalue>Up</newvalue></mapping></mappings></valuemap></valuemaps></template></templates><triggers><trigger><uuid>28920a56998e4f39a86dfcf364fd3329</uuid><expression>last(/Linux by Zabbix agent VMs/proc.num)/last(/Linux by Zabbix agent VMs/kernel.maxproc)*100&gt;80</expression><name>Linux: Getting closer to process limit</name><event_name>Linux: Getting closer to process limit (over 80% used)</event_name><opdata>{ITEM.LASTVALUE1} active, {ITEM.LASTVALUE2} limit.</opdata><priority>WARNING</priority><tags><tag><tag>scope</tag><value>performance</value></tag></tags></trigger><trigger><uuid>fb0c8cc315554b0380150065cef85c29</uuid><expression>max(/Linux by Zabbix agent VMs/vm.memory.size[available],5m)&lt;{$MEMORY.AVAILABLE.MIN} and last(/Linux by Zabbix agent VMs/vm.memory.size[total])&gt;0</expression><name>Linux: Lack of available memory</name><event_name>Linux: Lack of available memory (&lt;{$MEMORY.AVAILABLE.MIN} of {ITEM.VALUE2})</event_name><opdata>Available: {ITEM.LASTVALUE1}, total: {ITEM.LASTVALUE2}</opdata><priority>AVERAGE</priority><tags><tag><tag>scope</tag><value>capacity</value></tag><tag><tag>scope</tag><value>performance</value></tag></tags></trigger><trigger><uuid>b34d650ed17245e4993a9e337ceaaae5</uuid><expression>min(/Linux by Zabbix agent VMs/system.cpu.load[all,avg1],5m)/last(/Linux by Zabbix agent VMs/system.cpu.num)&gt;{$LOAD_AVG_PER_CPU.MAX.WARN}
and last(/Linux by Zabbix agent VMs/system.cpu.load[all,avg5])&gt;0
and last(/Linux by Zabbix agent VMs/system.cpu.load[all,avg15])&gt;0</expression><name>Linux: Load average is too high</name><event_name>Linux: Load average is too high (per CPU load over {$LOAD_AVG_PER_CPU.MAX.WARN} for 5m)</event_name><opdata>Load averages(1m 5m 15m): ({ITEM.LASTVALUE1} {ITEM.LASTVALUE3} {ITEM.LASTVALUE4}), # of CPUs: {ITEM.LASTVALUE2}</opdata><priority>AVERAGE</priority><description>The load average per CPU is too high. The system may be slow to respond.</description><tags><tag><tag>scope</tag><value>capacity</value></tag><tag><tag>scope</tag><value>performance</value></tag></tags></trigger></triggers><graphs><graph><uuid>2979daad818b4e7b957c1732e01f3652</uuid><name>Linux: CPU jumps</name><graph_items><graph_item><color>199C0D</color><item><host>Linux by Zabbix agent VMs</host><key>system.cpu.switches</key></item></graph_item><graph_item><sortorder>1</sortorder><color>F63100</color><item><host>Linux by Zabbix agent VMs</host><key>system.cpu.intr</key></item></graph_item></graph_items></graph><graph><uuid>f01fb50315884eacbcb3e5ca77547611</uuid><name>Linux: CPU usage</name><type>STACKED</type><ymin_type_1>FIXED</ymin_type_1><ymax_type_1>FIXED</ymax_type_1><graph_items><graph_item><color>199C0D</color><item><host>Linux by Zabbix agent VMs</host><key>system.cpu.util[,system]</key></item></graph_item><graph_item><sortorder>1</sortorder><color>F63100</color><item><host>Linux by Zabbix agent VMs</host><key>system.cpu.util[,user]</key></item></graph_item><graph_item><sortorder>2</sortorder><color>00611C</color><item><host>Linux by Zabbix agent VMs</host><key>system.cpu.util[,nice]</key></item></graph_item><graph_item><sortorder>3</sortorder><color>F7941D</color><item><host>Linux by Zabbix agent VMs</host><key>system.cpu.util[,iowait]</key></item></graph_item><graph_item><sortorder>4</sortorder><color>FC6EA3</color><item><host>Linux by Zabbix agent VMs</host><key>system.cpu.util[,steal]</key></item></graph_item><graph_item><sortorder>5</sortorder><color>6C59DC</color><item><host>Linux by Zabbix agent VMs</host><key>system.cpu.util[,interrupt]</key></item></graph_item><graph_item><sortorder>6</sortorder><color>C7A72D</color><item><host>Linux by Zabbix agent VMs</host><key>system.cpu.util[,softirq]</key></item></graph_item><graph_item><sortorder>7</sortorder><color>BA2A5D</color><item><host>Linux by Zabbix agent VMs</host><key>system.cpu.util[,guest]</key></item></graph_item><graph_item><sortorder>8</sortorder><color>F230E0</color><item><host>Linux by Zabbix agent VMs</host><key>system.cpu.util[,guest_nice]</key></item></graph_item></graph_items></graph><graph><uuid>9f3b4d52fb9d4d9e975c64abbdd126b3</uuid><name>Linux: CPU utilization</name><ymin_type_1>FIXED</ymin_type_1><ymax_type_1>FIXED</ymax_type_1><graph_items><graph_item><drawtype>GRADIENT_LINE</drawtype><color>199C0D</color><item><host>Linux by Zabbix agent VMs</host><key>system.cpu.util</key></item></graph_item></graph_items></graph><graph><uuid>83c952e25e604197a638d6291537fe7b</uuid><name>Linux: Memory usage</name><ymin_type_1>FIXED</ymin_type_1><graph_items><graph_item><drawtype>BOLD_LINE</drawtype><color>199C0D</color><item><host>Linux by Zabbix agent VMs</host><key>vm.memory.size[total]</key></item></graph_item><graph_item><sortorder>1</sortorder><drawtype>GRADIENT_LINE</drawtype><color>F63100</color><item><host>Linux by Zabbix agent VMs</host><key>vm.memory.size[available]</key></item></graph_item></graph_items></graph><graph><uuid>3a3bc948734e4bb499c3ccdae24cae77</uuid><name>Linux: Memory utilization</name><ymin_type_1>FIXED</ymin_type_1><ymax_type_1>FIXED</ymax_type_1><graph_items><graph_item><drawtype>GRADIENT_LINE</drawtype><color>199C0D</color><item><host>Linux by Zabbix agent VMs</host><key>vm.memory.utilization</key></item></graph_item></graph_items></graph><graph><uuid>b82d15df553248d3af61f506bbd4a3ce</uuid><name>Linux: Processes</name><graph_items><graph_item><color>199C0D</color><item><host>Linux by Zabbix agent VMs</host><key>proc.num</key></item></graph_item><graph_item><sortorder>1</sortorder><color>F63100</color><item><host>Linux by Zabbix agent VMs</host><key>proc.num[,,run]</key></item></graph_item></graph_items></graph><graph><uuid>38a584c4de1d44e9810139bd46c235fe</uuid><name>Linux: Swap usage</name><graph_items><graph_item><color>199C0D</color><item><host>Linux by Zabbix agent VMs</host><key>system.swap.size[,free]</key></item></graph_item><graph_item><sortorder>1</sortorder><color>F63100</color><item><host>Linux by Zabbix agent VMs</host><key>system.swap.size[,total]</key></item></graph_item></graph_items></graph><graph><uuid>e5fa012d47bb48a0b1f27e5975d8867e</uuid><name>Linux: System load</name><ymin_type_1>FIXED</ymin_type_1><graph_items><graph_item><color>199C0D</color><item><host>Linux by Zabbix agent VMs</host><key>system.cpu.load[all,avg1]</key></item></graph_item><graph_item><sortorder>1</sortorder><color>F63100</color><item><host>Linux by Zabbix agent VMs</host><key>system.cpu.load[all,avg5]</key></item></graph_item><graph_item><sortorder>2</sortorder><color>00611C</color><item><host>Linux by Zabbix agent VMs</host><key>system.cpu.load[all,avg15]</key></item></graph_item><graph_item><sortorder>3</sortorder><color>F7941D</color><yaxisside>RIGHT</yaxisside><item><host>Linux by Zabbix agent VMs</host><key>system.cpu.num</key></item></graph_item></graph_items></graph></graphs></zabbix_export>
